// Decompiled with JetBrains decompiler
// Type: .
// Assembly: WindowsBC, Version=1.0.0.0, Culture=neutral, PublicKeyToken=9909ee17073e3364
// MVID: 658BFC85-36E1-493D-98E6-AE9127D73D60
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare.00004-msil\Trojan-Downloader.MSIL.BitCoinMiner.c-64f742a0b28b2c3d2a62ef6607fcfd5fa55b793a1aff3a6c11e014e3b119149e.exe

using \u000E;
using \u0019\u0002;
using \u0093;
using ICSharpCode.SharpZipLib.Zip;
using System;
using System.IO;
using System.Runtime.CompilerServices;
using System.Runtime.InteropServices;
using System.Text;

namespace \u0019\u0002
{
  internal sealed class \u001E\u0002 : \u009B
  {
    private string \u0001;
    private bool \u0002;
    private char \u0003 = '_';
    private static readonly char[] \u0004;

    public \u001E\u0002([In] string obj0)
    {
      switch (obj0)
      {
        case null:
          throw new ArgumentNullException(\u0008.\u000E\u0003(3774), \u0008.\u000E\u0003(3795));
        default:
          this.\u0097\u0004(obj0);
          break;
      }
    }

    public \u001E\u0002()
    {
    }

    [SpecialName]
    public void \u0097\u0004([In] string obj0)
    {
      switch (obj0)
      {
        case null:
          throw new ArgumentNullException(\u0008.\u000E\u0003(943));
        default:
          this.\u0001 = \u0084\u0004.\u0086\u0005(obj0);
          break;
      }
    }

    public string \u008D\u0003([In] string obj0)
    {
      obj0 = this.\u008C\u0003(obj0);
      if (\u0011\u0003.\u007E\u0004\u0002((object) obj0) <= 0)
        throw new ZipException(\u0008.\u000E\u0003(3837));
      while (\u0006\u0004.\u007E\u000E\u0002((object) obj0, \u0008.\u000E\u0003(3832)))
        obj0 = \u001A\u0005.\u007E\u0018\u0002((object) obj0, \u0011\u0003.\u007E\u0004\u0002((object) obj0) - 1, 1);
      return obj0;
    }

    public string \u008C\u0003([In] string obj0)
    {
      switch (obj0)
      {
        case null:
          obj0 = string.Empty;
          break;
        default:
          obj0 = \u001E\u0002.\u0098\u0004(obj0, this.\u0003);
          if (this.\u0002)
            obj0 = \u0084\u0004.\u0087\u0005(obj0);
          if (this.\u0001 != null)
          {
            obj0 = \u0088\u0005.\u0089\u0005(this.\u0001, obj0);
            break;
          }
          break;
      }
      return obj0;
    }

    static \u001E\u0002()
    {
      char[] chArray = \u0001\u0004.\u0084\u0005();
      int length = chArray.Length + 3;
      \u001E\u0002.\u0004 = new char[length];
      \u008F\u0003.\u0098((Array) chArray, 0, (Array) \u001E\u0002.\u0004, 0, chArray.Length);
      \u001E\u0002.\u0004[length - 1] = '*';
      \u001E\u0002.\u0004[length - 2] = '?';
      \u001E\u0002.\u0004[length - 3] = ':';
    }

    public static string \u0098\u0004([In] string obj0, [In] char obj1)
    {
      switch (obj0)
      {
        case null:
          throw new ArgumentNullException(\u0008.\u000E\u0003(3886));
        default:
          obj0 = \u009E.\u0095\u0003(\u0003\u0005.\u007E\u0017\u0002((object) obj0, \u0008.\u000E\u0003(3895), \u0008.\u000E\u0003(3832)));
          while (\u0011\u0003.\u007E\u0004\u0002((object) obj0) > 0 && \u0089\u0003.\u007E\u0003\u0002((object) obj0, 0) == '\\')
            obj0 = \u001A\u0005.\u007E\u0018\u0002((object) obj0, 0, 1);
          while (\u0011\u0003.\u007E\u0004\u0002((object) obj0) > 0 && \u0089\u0003.\u007E\u0003\u0002((object) obj0, \u0011\u0003.\u007E\u0004\u0002((object) obj0) - 1) == '\\')
            obj0 = \u001A\u0005.\u007E\u0018\u0002((object) obj0, \u0011\u0003.\u007E\u0004\u0002((object) obj0) - 1, 1);
          for (int index = \u000F\u0004.\u007E\u0012\u0002((object) obj0, \u0008.\u000E\u0003(3900)); index >= 0; index = \u000F\u0004.\u007E\u0012\u0002((object) obj0, \u0008.\u000E\u0003(3900)))
            obj0 = \u001A\u0005.\u007E\u0018\u0002((object) obj0, index, 1);
          int num = \u001F\u0005.\u007E\u0010\u0002((object) obj0, \u001E\u0002.\u0004);
          if (num >= 0)
          {
            StringBuilder stringBuilder = new StringBuilder(obj0);
            for (; num >= 0; num = num < \u0011\u0003.\u007E\u0004\u0002((object) obj0) ? \u0003\u0004.\u007E\u0011\u0002((object) obj0, \u001E\u0002.\u0004, num + 1) : -1)
              \u000F\u0003.\u007E\u0084\u0002((object) stringBuilder, num, obj1);
            obj0 = \u0014\u0004.\u007E\u0093((object) stringBuilder);
          }
          return \u0011\u0003.\u007E\u0004\u0002((object) obj0) <= 260 ? obj0 : throw new PathTooLongException();
      }
    }
  }
}
