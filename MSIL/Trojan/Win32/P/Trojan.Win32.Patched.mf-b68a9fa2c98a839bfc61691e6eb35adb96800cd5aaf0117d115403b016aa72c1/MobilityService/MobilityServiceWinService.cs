// Decompiled with JetBrains decompiler
// Type: MobilityService.MobilityServiceWinService
// Assembly: MobilityService, Version=1.0.2519.23335, Culture=neutral, PublicKeyToken=null
// MVID: DCE01E20-F0BF-43A3-ABD9-0E64E99A2DB6
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare-00001-msil\Trojan.Win32.Patched.mf-b68a9fa2c98a839bfc61691e6eb35adb96800cd5aaf0117d115403b016aa72c1.exe

using System.ComponentModel;
using System.Runtime.InteropServices;
using System.Runtime.Remoting.Channels;
using System.Runtime.Remoting.Channels.Ipc;
using System.ServiceProcess;

namespace MobilityService
{
  public class MobilityServiceWinService : ServiceBase
  {
    public ServiceRemoting myRemote;
    protected IpcChannel m_IpcChan;
    private Container components;

    public MobilityServiceWinService() => this.InitializeComponent();

    public override void Dispose([MarshalAs(UnmanagedType.U1)] bool disposing)
    {
      if (disposing)
        this.components?.Dispose();
      base.Dispose(disposing);
    }

    protected override void OnStart(string[] args)
    {
      // ISSUE: unable to decompile the method.
    }

    protected override void OnStop()
    {
      IpcChannel ipcChan = this.m_IpcChan;
      if (ipcChan == null)
        return;
      ChannelServices.UnregisterChannel((IChannel) ipcChan);
    }

    protected override void OnCustomCommand(int command)
    {
    }

    private void InitializeComponent()
    {
      this.CanPauseAndContinue = true;
      this.ServiceName = "MobilityService";
    }
  }
}
