// Decompiled with JetBrains decompiler
// Type: Bmc.Services.Update.UpdateServer
// Assembly: updateservice, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null
// MVID: A6A1FC23-14F7-4CCE-B702-0F9FFD2CD5AC
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare-00000-msil\Trojan.Win32.Patched.mf-9c4f7eb57e580673b883e57f31931bcbce8bd5d8de1a509a25b8b5a175335d9f.exe

using Bmc.Broker.ResourceSystem;
using System;

namespace Bmc.Services.Update
{
  public class UpdateServer : MarshalByRefObject, IUpdate
  {
    private static ResourceManager _resourceManager = new ResourceManager(false);
    private UpdateFetcher _updateFetcher;

    static UpdateServer()
    {
      UpdateServer._resourceManager.Init();
      DebugManager.Init(UpdateServer._resourceManager);
    }

    public UpdateServer() => this._updateFetcher = UpdateFetcher.Create(UpdateServer._resourceManager);

    public void Download()
    {
      lock (this)
        this._updateFetcher.TryFetch();
    }
  }
}
